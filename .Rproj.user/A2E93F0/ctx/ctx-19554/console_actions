{
    "data" : [
        "data <- dynr.data(Oscillator, id=\"id\", time=\"times\", observed=\"y1\")",
        "> ",
        "model <- dynr.model(dynamics=dynamics, measurement=meas,",
        "+ ",
        "                    noise=ecov, initial=initial, data=data)",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "May I present to you your error messages?\nsh: c:/rtools40/mingw64/bin/gcc: No such file or directory\nmake: *** [C:/PROGRA~1/R/R-40~1.5/etc/x64/Makeconf:222: file5df834c12053.o] Error 127\n\nERROR(s) during compilation: source code errors or compiler configuration errors!\n\nProgram source:\n  1: #include <math.h>\n  2: #include <gsl/gsl_matrix.h>\n  3: #include <gsl/gsl_blas.h>\n  4: \n  5: \n  6: /**\n  7:  * This function takes a double and gives back a double\n  8:  * It computes the logistic function (i.e. the inverse of the logit link function)\n",
        "  9:  * @param x, the double value e.g. a normally distributed number\n 10:  * @return logistic(x), the double value e.g. a number between 0 and 1\n 11:  */\n 12: double mathfunction_logistic(const double x){\n 13: \tdouble value = 1.0/(1.0 + exp(-x));\n 14: \treturn value;\n 15: }\n 16: \n 17: /**\n 18:  * This function takes a gsl_vector and modifies its second argument (another gsl_vector)\n 19:  * It computes the softmax function (e.g. for multinomial logistic regression)\n 20:  * @param x, vector of double values e.g. a vector of normally distributed numbers\n",
        " 21:  * @param result, softmax(x), e.g. a vector of numbers between 0 and 1 that sum to 1\n 22:  */\n 23: void mathfunction_softmax(const gsl_vector *x, gsl_vector *result){\n 24: \t/* Elementwise exponentiation */\n 25: \tsize_t index=0;\n 26: \tfor(index=0; index < x->size; index++){\n 27: \t\tgsl_vector_set(result, index, exp(gsl_vector_get(x, index)));\n 28: \t}\n 29: \t\n 30: \t/* Sum for the scaling coeficient */\n 31: \tdouble scale = 0.0;\n 32: \tfor(index=0; index < x->size; index++){\n 33: \t\tscale += gsl_vector_get(result, index);\n",
        " 34: \t}\n 35: \t\n 36: \t/* Multiply all elements of result by 1/scale */\n 37: \tgsl_blas_dscal(1/scale, result);\n 38: }\n 39: \n 40: \n 41: void function_dx_dt(double t, size_t regime, const gsl_vector *x, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dx_dt){\n 42: \tgsl_matrix *Amatrix = gsl_matrix_calloc(2, 2);\n 43: \n 44: \tgsl_matrix_set(Amatrix, 1, 0, param[0]);\n 45: \tgsl_matrix_set(Amatrix, 0, 1, 1);\n 46: \tgsl_matrix_set(Amatrix, 1, 1, param[1]);\n 47: \n 48: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Amatrix, x, 0.0, F_dx_dt);\n",
        " 49: \n 50: \tgsl_matrix_free(Amatrix);\n 51: \n 52: }\n 53: \n 54: \n 55: void function_dF_dx(double t, size_t regime, double *param, const gsl_vector *co_variate, gsl_matrix *F_dx_dt_dx){\n 56: \tgsl_matrix_set(F_dx_dt_dx, 1, 0, param[0]);\n 57: \tgsl_matrix_set(F_dx_dt_dx, 0, 1, 1);\n 58: \tgsl_matrix_set(F_dx_dt_dx, 1, 1, param[1]);\n 59: \n 60: }\n 61: \n 62: \n 63: \n 64: void function_measurement(size_t t, size_t regime, double *param, const gsl_vector *eta, const gsl_vector *co_variate, gsl_matrix *Ht, gsl_vector *y){\n",
        " 65: \n 66: \n 67: \tgsl_matrix_set(Ht, 0, 0, 1);\n 68:  \n 69: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Ht, eta, 0.0, y);\n 70:  \n 71: }\n 72: \n 73: \n 74: \n 75: void function_noise_cov(size_t t, size_t regime, double *param, gsl_matrix *y_noise_cov, gsl_matrix *eta_noise_cov){\n 76: \n 77: \n 78: \tgsl_matrix_set(eta_noise_cov, 0, 0, -13.8155105579643);\n 79: \tgsl_matrix_set(eta_noise_cov, 1, 1, param[2]);\n 80: \n 81: \tgsl_matrix_set(y_noise_cov, 0, 0, param[3]);\n 82:  \n 83: }\n 84: \n 85: \n 86: \n 87: void function_initial_condition(double *param, gsl_vector **co_variate, gsl_vector **pr_0, gsl_vector **eta_0, gsl_matrix **error_cov_0, size_t *index_sbj){\n",
        " 88: \t\n 89: \tgsl_vector *Pvector = gsl_vector_calloc(1);\n 90: \tgsl_vector *Pintercept = gsl_vector_calloc(1);\n 91: \tgsl_vector *Padd = gsl_vector_calloc(1);\n 92: \tgsl_vector *Preset = gsl_vector_calloc(1);\n 93: \tgsl_vector_set(Pvector, 0, 1);\n 94: \tgsl_vector_add(Padd, Pvector);\n 95: \tgsl_vector_add(Padd, Pintercept);\n 96: \tgsl_vector_add(Preset, Pvector);\n 97: \tgsl_vector_add(Preset, Pintercept);\n 98: \tgsl_vector *eta_local = gsl_vector_calloc(2);\n 99: \tsize_t num_regime=pr_0[0]->size;\n100: \tsize_t dim_latent_var=error_cov_0[0]->size1;\n",
        "101: \tsize_t num_sbj=(eta_0[0]->size)/(dim_latent_var);\n102: \tsize_t i;\n103: \tsize_t regime;\n104: \tfor(regime=0; regime < num_regime; regime++){\n105: \t\tfor(i=0; i < num_sbj; i++){\n106: \t\t\tgsl_vector_set(eta_local, 0, param[4]);\n107: \t\t\tgsl_vector_set(eta_local, 1, 1);\n108: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+0, gsl_vector_get(eta_local, 0));\n109: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+1, gsl_vector_get(eta_local, 1));\n110: \t\t\tgsl_vector_set_zero(eta_local);\n111: \t\t}\n112: \t}\n113: \tfor(i=0; i < num_sbj; i++){\n",
        "114: \t\tmathfunction_softmax(Padd, pr_0[i]);\n115: \t}\n116: \tgsl_vector_free(Pvector);\n117: \tgsl_vector_free(Pintercept);\n118: \tgsl_vector_free(Padd);\n119: \tgsl_vector_free(Preset);\n120: \tgsl_vector_free(eta_local);\n121: }\n122: \n123: \n124: /**\n125:  * This function modifies some of the parameters so that it satisfies the model constraint.\n126:  * Do not include parameters in noise_cov matrices \n127:  */\n128: void function_transform(double *param){\n129: }\n130: \n131: \n132: \n133: void function_regime_switch(size_t t, size_t type, double *param, const gsl_vector *co_variate, gsl_matrix *regime_switch_mat){\n",
        "134: \tgsl_matrix_set_identity(regime_switch_mat);\n135: }\n136: \n137: \n138: \n139: /**\n140:  * The dP/dt function: depend on function_dF_dx, needs to be compiled on the user end\n141:  * but user does not need to modify it or care about it.\n142:  */\n143: void mathfunction_mat_to_vec(const gsl_matrix *mat, gsl_vector *vec){\n144: \tsize_t i,j;\n145: \tsize_t nx=mat->size1;\n146: \t/*convert matrix to vector*/\n147: \tfor(i=0; i<nx; i++){\n148: \t\tgsl_vector_set(vec,i,gsl_matrix_get(mat,i,i));\n149: \t\tfor (j=i+1;j<nx;j++){\n",
        "150: \t\t\tgsl_vector_set(vec,i+j+nx-1,gsl_matrix_get(mat,i,j));\n151: \t\t\t/*printf(\"%lu\",i+j+nx-1);}*/\n152: \t\t}\n153: \t}\n154: }\n155: void mathfunction_vec_to_mat(const gsl_vector *vec, gsl_matrix *mat){\n156: \tsize_t i,j;\n157: \tsize_t nx=mat->size1;\n158: \t/*convert vector to matrix*/\n159: \tfor(i=0; i<nx; i++){\n160: \t\tgsl_matrix_set(mat,i,i,gsl_vector_get(vec,i));\n161: \t\tfor (j=i+1;j<nx;j++){\n162: \t\t\tgsl_matrix_set(mat,i,j,gsl_vector_get(vec,i+j+nx-1));\n163: \t\t\tgsl_matrix_set(mat,j,i,gsl_vector_get(vec,i+j+nx-1));\n",
        "164: \t\t}\n165: \t}\n166: }\n167: void function_dP_dt(double t, size_t regime, const gsl_vector *p, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dP_dt){\n168: \t\n169: \tsize_t nx;\n170: \tnx = (size_t) floor(sqrt(2*(double) p->size));\n171: \tgsl_matrix *P_mat=gsl_matrix_calloc(nx,nx);\n172: \tmathfunction_vec_to_mat(p,P_mat);\n173: \tgsl_matrix *F_dx_dt_dx=gsl_matrix_calloc(nx,nx);\n174: \tfunction_dF_dx(t, regime, param, co_variate, F_dx_dt_dx);\n175: \tgsl_matrix *dFP=gsl_matrix_calloc(nx,nx);\n",
        "176: \tgsl_matrix *dP_dt=gsl_matrix_calloc(nx,nx);\n177: \tgsl_blas_dgemm(CblasNoTrans, CblasNoTrans, 1.0, F_dx_dt_dx, P_mat, 0.0, dFP);\n178: \tgsl_matrix_transpose_memcpy(dP_dt, dFP);\n179: \tgsl_matrix_add(dP_dt, dFP);\n180: \tsize_t n_Q_vec=(1+nx)*nx/2;\n181: \tgsl_vector *Q_vec=gsl_vector_calloc(n_Q_vec);\n182: \tsize_t i;\n183: \tfor(i=1;i<=n_Q_vec;i++){\n184: \t\t\tgsl_vector_set(Q_vec,n_Q_vec-i,param[n_param-i]);\n185: \t}\n186: \tgsl_matrix *Q_mat=gsl_matrix_calloc(nx,nx);\n187: \tmathfunction_vec_to_mat(Q_vec,Q_mat);\n188: \tgsl_matrix_add(dP_dt, Q_mat);\n",
        "189: \tmathfunction_mat_to_vec(dP_dt, F_dP_dt);\n190: \tgsl_matrix_free(P_mat);\n191: \tgsl_matrix_free(F_dx_dt_dx);\n192: \tgsl_matrix_free(dFP);\n193: \tgsl_matrix_free(dP_dt);\n194: \tgsl_vector_free(Q_vec);\n195: \tgsl_matrix_free(Q_mat);\n196: }\n",
        "Error in CompileCode(code, language, verbose, libLFile) : \n  Compilation ERROR, function(s)/method(s) not created!\n",
        "> ",
        "install.packages(\"Rtools\")",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "Warning in install.packages :\n  package ‘Rtools’ is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\n",
        "> ",
        "install.packages(\"Rtools40\")",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "Warning in install.packages :\n  package ‘Rtools40’ is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\n",
        "> ",
        "R.Version()",
        "$platform\n[1] \"x86_64-w64-mingw32\"\n\n$arch\n[1] \"x86_64\"\n\n$os\n[1] \"mingw32\"\n\n$system\n[1] \"x86_64, mingw32\"\n\n$status\n[1] \"\"\n\n$major\n[1] \"4\"\n\n$minor\n[1] \"0.5\"\n\n$year\n[1] \"2021\"\n\n$month\n[1] \"03\"\n\n$day\n[1] \"31\"\n\n$`svn rev`\n[1] \"80133\"\n\n$language\n[1] \"R\"\n\n$version.string\n[1] \"R version 4.0.5 (2021-03-31)\"\n\n$nickname\n[1] \"Shake and Throw\"\n\n",
        "> ",
        "devtools::has_devel()",
        "Error in loadNamespace(name) : there is no package called ‘devtools’\n",
        "> ",
        "install.packages(\"devtools\")",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "also installing the dependencies ‘askpass’, ‘credentials’, ‘sys’, ‘gitcreds’, ‘ini’, ‘fastmap’, ‘diffobj’, ‘rematch2’, ‘gert’, ‘gh’, ‘jsonlite’, ‘rappdirs’, ‘rprojroot’, ‘whisker’, ‘processx’, ‘openssl’, ‘cachem’, ‘xopen’, ‘brew’, ‘commonmark’, ‘xml2’, ‘brio’, ‘praise’, ‘ps’, ‘waldo’, ‘usethis’, ‘callr’, ‘desc’, ‘fs’, ‘httr’, ‘memoise’, ‘pkgbuild’, ‘pkgload’, ‘rcmdcheck’, ‘remotes’, ‘roxygen2’, ‘rstudioapi’, ‘rversions’, ‘sessioninfo’, ‘testthat’\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/askpass_1.1.zip'\n",
        "Content type 'application/zip'",
        " length 243570 bytes (237 KB)\n",
        "downloaded 237 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/credentials_1.3.0.zip'\n",
        "Content type 'application/zip'",
        " length 173645 bytes (169 KB)\n",
        "downloaded 169 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/sys_3.4.zip'\n",
        "Content type 'application/zip'",
        " length 59814 bytes (58 KB)\n",
        "downloaded 58 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/gitcreds_0.1.1.zip'\n",
        "Content type 'application/zip'",
        " length 97301 bytes (95 KB)\n",
        "downloaded 95 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/ini_0.3.1.zip'\n",
        "Content type 'application/zip'",
        " length 15658 bytes (15 KB)\n",
        "downloaded 15 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/fastmap_1.1.0.zip'\n",
        "Content type 'application/zip'",
        " length 215410 bytes (210 KB)\n",
        "downloaded 210 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/diffobj_0.3.4.zip'\n",
        "Content type 'application/zip'",
        " length 995878 bytes (972 KB)\n",
        "downloaded 972 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rematch2_2.1.2.zip'\n",
        "Content type 'application/zip'",
        " length 47379 bytes (46 KB)\n",
        "downloaded 46 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/gert_1.3.0.zip'\n",
        "Content type 'application/zip'",
        " length 3669203 bytes (3.5 MB)\n",
        "downloaded 3.5 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/gh_1.3.0.zip'\n",
        "Content type 'application/zip'",
        " length 140836 bytes (137 KB)\n",
        "downloaded 137 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/jsonlite_1.7.2.zip'\n",
        "Content type 'application/zip'",
        " length 543839 bytes (531 KB)\n",
        "downloaded 531 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rappdirs_0.3.3.zip'\n",
        "Content type 'application/zip'",
        " length 58766 bytes (57 KB)\n",
        "downloaded 57 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rprojroot_2.0.2.zip'\n",
        "Content type 'application/zip'",
        " length 105052 bytes (102 KB)\n",
        "downloaded 102 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/whisker_0.4.zip'\n",
        "Content type 'application/zip'",
        " length 83325 bytes (81 KB)\n",
        "downloaded 81 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/processx_3.5.2.zip'\n",
        "Content type 'application/zip'",
        " length 1246565 bytes (1.2 MB)\n",
        "downloaded 1.2 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/openssl_1.4.4.zip'\n",
        "Content type 'application/zip'",
        " length 4101661 bytes (3.9 MB)\n",
        "downloaded 3.9 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/cachem_1.0.4.zip'\n",
        "Content type 'application/zip'",
        " length 78293 bytes (76 KB)\n",
        "downloaded 76 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/xopen_1.0.0.zip'\n",
        "Content type 'application/zip'",
        " length 24693 bytes (24 KB)\n",
        "downloaded 24 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/brew_1.0-6.zip'\n",
        "Content type 'application/zip'",
        " length 113831 bytes (111 KB)\n",
        "downloaded 111 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/commonmark_1.7.zip'\n",
        "Content type 'application/zip'",
        " length 265450 bytes (259 KB)\n",
        "downloaded 259 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/xml2_1.3.2.zip'\n",
        "Content type 'application/zip'",
        " length 3005803 bytes (2.9 MB)\n",
        "downloaded 2.9 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/brio_1.1.2.zip'\n",
        "Content type 'application/zip'",
        " length 45578 bytes (44 KB)\n",
        "downloaded 44 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/praise_1.0.0.zip'\n",
        "Content type 'application/zip'",
        " length 19720 bytes (19 KB)\n",
        "downloaded 19 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/ps_1.6.0.zip'\n",
        "Content type 'application/zip'",
        " length 775839 bytes (757 KB)\n",
        "downloaded 757 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/waldo_0.2.5.zip'\n",
        "Content type 'application/zip'",
        " length 72358 bytes (70 KB)\n",
        "downloaded 70 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/usethis_2.0.1.zip'\n",
        "Content type 'application/zip'",
        " length 735044 bytes (717 KB)\n",
        "downloaded 717 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/callr_3.7.0.zip'\n",
        "Content type 'application/zip'",
        " length 439826 bytes (429 KB)\n",
        "downloaded 429 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/desc_1.3.0.zip'\n",
        "Content type 'application/zip'",
        " length 529708 bytes (517 KB)\n",
        "downloaded 517 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/fs_1.5.0.zip'\n",
        "Content type 'application/zip'",
        " length 606176 bytes (591 KB)\n",
        "downloaded 591 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/httr_1.4.2.zip'\n",
        "Content type 'application/zip'",
        " length 517313 bytes (505 KB)\n",
        "downloaded 505 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/memoise_2.0.0.zip'\n",
        "Content type 'application/zip'",
        " length 49444 bytes (48 KB)\n",
        "downloaded 48 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/pkgbuild_1.2.0.zip'\n",
        "Content type 'application/zip'",
        " length 141740 bytes (138 KB)\n",
        "downloaded 138 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/pkgload_1.2.1.zip'\n",
        "Content type 'application/zip'",
        " length 153736 bytes (150 KB)\n",
        "downloaded 150 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rcmdcheck_1.3.3.zip'\n",
        "Content type 'application/zip'",
        " length 135041 bytes (131 KB)\n",
        "downloaded 131 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/remotes_2.3.0.zip'\n",
        "Content type 'application/zip'",
        " length 393262 bytes (384 KB)\n",
        "downloaded 384 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/roxygen2_7.1.1.zip'\n",
        "Content type 'application/zip'",
        " length 1372401 bytes (1.3 MB)\n",
        "downloaded 1.3 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rstudioapi_0.13.zip'\n",
        "Content type 'application/zip'",
        " length 303325 bytes (296 KB)\n",
        "downloaded 296 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/rversions_2.0.2.zip'\n",
        "Content type 'application/zip'",
        " length 68637 bytes (67 KB)\n",
        "downloaded 67 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/sessioninfo_1.1.1.zip'\n",
        "Content type 'application/zip'",
        " length 46925 bytes (45 KB)\n",
        "downloaded 45 KB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/testthat_3.0.2.zip'\n",
        "Content type 'application/zip'",
        " length 2491118 bytes (2.4 MB)\n",
        "downloaded 2.4 MB\n\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/devtools_2.4.1.zip'\n",
        "Content type 'application/zip'",
        " length 396627 bytes (387 KB)\n",
        "downloaded 387 KB\n\n",
        "package ‘askpass’ successfully unpacked and MD5 sums checked\npackage ‘credentials’ successfully unpacked and MD5 sums checked\npackage ‘sys’ successfully unpacked and MD5 sums checked\npackage ‘gitcreds’ successfully unpacked and MD5 sums checked\npackage ‘ini’ successfully unpacked and MD5 sums checked\npackage ‘fastmap’ successfully unpacked and MD5 sums checked\npackage ‘diffobj’ successfully unpacked and MD5 sums checked\npackage ‘rematch2’ successfully unpacked and MD5 sums checked\n",
        "package ‘gert’ successfully unpacked and MD5 sums checked\npackage ‘gh’ successfully unpacked and MD5 sums checked\npackage ‘jsonlite’ successfully unpacked and MD5 sums checked\npackage ‘rappdirs’ successfully unpacked and MD5 sums checked\npackage ‘rprojroot’ successfully unpacked and MD5 sums checked\npackage ‘whisker’ successfully unpacked and MD5 sums checked\npackage ‘processx’ successfully unpacked and MD5 sums checked\npackage ‘openssl’ successfully unpacked and MD5 sums checked\n",
        "package ‘cachem’ successfully unpacked and MD5 sums checked\npackage ‘xopen’ successfully unpacked and MD5 sums checked\npackage ‘brew’ successfully unpacked and MD5 sums checked\npackage ‘commonmark’ successfully unpacked and MD5 sums checked\npackage ‘xml2’ successfully unpacked and MD5 sums checked\npackage ‘brio’ successfully unpacked and MD5 sums checked\npackage ‘praise’ successfully unpacked and MD5 sums checked\npackage ‘ps’ successfully unpacked and MD5 sums checked\npackage ‘waldo’ successfully unpacked and MD5 sums checked\n",
        "package ‘usethis’ successfully unpacked and MD5 sums checked\npackage ‘callr’ successfully unpacked and MD5 sums checked\npackage ‘desc’ successfully unpacked and MD5 sums checked\npackage ‘fs’ successfully unpacked and MD5 sums checked\npackage ‘httr’ successfully unpacked and MD5 sums checked\npackage ‘memoise’ successfully unpacked and MD5 sums checked\npackage ‘pkgbuild’ successfully unpacked and MD5 sums checked\npackage ‘pkgload’ successfully unpacked and MD5 sums checked\npackage ‘rcmdcheck’ successfully unpacked and MD5 sums checked\n",
        "package ‘remotes’ successfully unpacked and MD5 sums checked\npackage ‘roxygen2’ successfully unpacked and MD5 sums checked\npackage ‘rstudioapi’ successfully unpacked and MD5 sums checked\npackage ‘rversions’ successfully unpacked and MD5 sums checked\npackage ‘sessioninfo’ successfully unpacked and MD5 sums checked\npackage ‘testthat’ successfully unpacked and MD5 sums checked\npackage ‘devtools’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpK0HxRm\\downloaded_packages",
        "\n",
        "> ",
        "devtools::has_devel()",
        "WARNING: Rtools 3.5 found on the path at C:/Rtools is not compatible with R 4.0.5.\n\nPlease download and install Rtools 4.0 from https://cran.r-project.org/bin/windows/Rtools/, remove the incompatible version from your PATH.\n",
        "Error: Could not find tools necessary to compile a package\nCall `pkgbuild::check_build_tools(debug = TRUE)` to diagnose the problem.\n",
        "> ",
        "1+1",
        "[1] 2\n",
        "> ",
        "devtools::has_devel()",
        "Your system is ready to build packages!\n",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "May I present to you your error messages?\nWarning message:\nIn system(cmd) : 'make' not found\n\nERROR(s) during compilation: source code errors or compiler configuration errors!\n\nProgram source:\n  1: #include <math.h>\n  2: #include <gsl/gsl_matrix.h>\n  3: #include <gsl/gsl_blas.h>\n  4: \n  5: \n  6: /**\n  7:  * This function takes a double and gives back a double\n  8:  * It computes the logistic function (i.e. the inverse of the logit link function)\n  9:  * @param x, the double value e.g. a normally distributed number\n",
        " 10:  * @return logistic(x), the double value e.g. a number between 0 and 1\n 11:  */\n 12: double mathfunction_logistic(const double x){\n 13: \tdouble value = 1.0/(1.0 + exp(-x));\n 14: \treturn value;\n 15: }\n 16: \n 17: /**\n 18:  * This function takes a gsl_vector and modifies its second argument (another gsl_vector)\n 19:  * It computes the softmax function (e.g. for multinomial logistic regression)\n 20:  * @param x, vector of double values e.g. a vector of normally distributed numbers\n 21:  * @param result, softmax(x), e.g. a vector of numbers between 0 and 1 that sum to 1\n",
        " 22:  */\n 23: void mathfunction_softmax(const gsl_vector *x, gsl_vector *result){\n 24: \t/* Elementwise exponentiation */\n 25: \tsize_t index=0;\n 26: \tfor(index=0; index < x->size; index++){\n 27: \t\tgsl_vector_set(result, index, exp(gsl_vector_get(x, index)));\n 28: \t}\n 29: \t\n 30: \t/* Sum for the scaling coeficient */\n 31: \tdouble scale = 0.0;\n 32: \tfor(index=0; index < x->size; index++){\n 33: \t\tscale += gsl_vector_get(result, index);\n 34: \t}\n 35: \t\n 36: \t/* Multiply all elements of result by 1/scale */\n 37: \tgsl_blas_dscal(1/scale, result);\n",
        " 38: }\n 39: \n 40: \n 41: void function_dx_dt(double t, size_t regime, const gsl_vector *x, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dx_dt){\n 42: \tgsl_matrix *Amatrix = gsl_matrix_calloc(2, 2);\n 43: \n 44: \tgsl_matrix_set(Amatrix, 1, 0, param[0]);\n 45: \tgsl_matrix_set(Amatrix, 0, 1, 1);\n 46: \tgsl_matrix_set(Amatrix, 1, 1, param[1]);\n 47: \n 48: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Amatrix, x, 0.0, F_dx_dt);\n 49: \n 50: \tgsl_matrix_free(Amatrix);\n 51: \n 52: }\n 53: \n 54: \n 55: void function_dF_dx(double t, size_t regime, double *param, const gsl_vector *co_variate, gsl_matrix *F_dx_dt_dx){\n",
        " 56: \tgsl_matrix_set(F_dx_dt_dx, 1, 0, param[0]);\n 57: \tgsl_matrix_set(F_dx_dt_dx, 0, 1, 1);\n 58: \tgsl_matrix_set(F_dx_dt_dx, 1, 1, param[1]);\n 59: \n 60: }\n 61: \n 62: \n 63: \n 64: void function_measurement(size_t t, size_t regime, double *param, const gsl_vector *eta, const gsl_vector *co_variate, gsl_matrix *Ht, gsl_vector *y){\n 65: \n 66: \n 67: \tgsl_matrix_set(Ht, 0, 0, 1);\n 68:  \n 69: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Ht, eta, 0.0, y);\n 70:  \n 71: }\n 72: \n 73: \n 74: \n 75: void function_noise_cov(size_t t, size_t regime, double *param, gsl_matrix *y_noise_cov, gsl_matrix *eta_noise_cov){\n",
        " 76: \n 77: \n 78: \tgsl_matrix_set(eta_noise_cov, 0, 0, -13.8155105579643);\n 79: \tgsl_matrix_set(eta_noise_cov, 1, 1, param[2]);\n 80: \n 81: \tgsl_matrix_set(y_noise_cov, 0, 0, param[3]);\n 82:  \n 83: }\n 84: \n 85: \n 86: \n 87: void function_initial_condition(double *param, gsl_vector **co_variate, gsl_vector **pr_0, gsl_vector **eta_0, gsl_matrix **error_cov_0, size_t *index_sbj){\n 88: \t\n 89: \tgsl_vector *Pvector = gsl_vector_calloc(1);\n 90: \tgsl_vector *Pintercept = gsl_vector_calloc(1);\n 91: \tgsl_vector *Padd = gsl_vector_calloc(1);\n",
        " 92: \tgsl_vector *Preset = gsl_vector_calloc(1);\n 93: \tgsl_vector_set(Pvector, 0, 1);\n 94: \tgsl_vector_add(Padd, Pvector);\n 95: \tgsl_vector_add(Padd, Pintercept);\n 96: \tgsl_vector_add(Preset, Pvector);\n 97: \tgsl_vector_add(Preset, Pintercept);\n 98: \tgsl_vector *eta_local = gsl_vector_calloc(2);\n 99: \tsize_t num_regime=pr_0[0]->size;\n100: \tsize_t dim_latent_var=error_cov_0[0]->size1;\n101: \tsize_t num_sbj=(eta_0[0]->size)/(dim_latent_var);\n102: \tsize_t i;\n103: \tsize_t regime;\n104: \tfor(regime=0; regime < num_regime; regime++){\n",
        "105: \t\tfor(i=0; i < num_sbj; i++){\n106: \t\t\tgsl_vector_set(eta_local, 0, param[4]);\n107: \t\t\tgsl_vector_set(eta_local, 1, 1);\n108: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+0, gsl_vector_get(eta_local, 0));\n109: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+1, gsl_vector_get(eta_local, 1));\n110: \t\t\tgsl_vector_set_zero(eta_local);\n111: \t\t}\n112: \t}\n113: \tfor(i=0; i < num_sbj; i++){\n114: \t\tmathfunction_softmax(Padd, pr_0[i]);\n115: \t}\n116: \tgsl_vector_free(Pvector);\n117: \tgsl_vector_free(Pintercept);\n",
        "118: \tgsl_vector_free(Padd);\n119: \tgsl_vector_free(Preset);\n120: \tgsl_vector_free(eta_local);\n121: }\n122: \n123: \n124: /**\n125:  * This function modifies some of the parameters so that it satisfies the model constraint.\n126:  * Do not include parameters in noise_cov matrices \n127:  */\n128: void function_transform(double *param){\n129: }\n130: \n131: \n132: \n133: void function_regime_switch(size_t t, size_t type, double *param, const gsl_vector *co_variate, gsl_matrix *regime_switch_mat){\n134: \tgsl_matrix_set_identity(regime_switch_mat);\n",
        "135: }\n136: \n137: \n138: \n139: /**\n140:  * The dP/dt function: depend on function_dF_dx, needs to be compiled on the user end\n141:  * but user does not need to modify it or care about it.\n142:  */\n143: void mathfunction_mat_to_vec(const gsl_matrix *mat, gsl_vector *vec){\n144: \tsize_t i,j;\n145: \tsize_t nx=mat->size1;\n146: \t/*convert matrix to vector*/\n147: \tfor(i=0; i<nx; i++){\n148: \t\tgsl_vector_set(vec,i,gsl_matrix_get(mat,i,i));\n149: \t\tfor (j=i+1;j<nx;j++){\n150: \t\t\tgsl_vector_set(vec,i+j+nx-1,gsl_matrix_get(mat,i,j));\n",
        "151: \t\t\t/*printf(\"%lu\",i+j+nx-1);}*/\n152: \t\t}\n153: \t}\n154: }\n155: void mathfunction_vec_to_mat(const gsl_vector *vec, gsl_matrix *mat){\n156: \tsize_t i,j;\n157: \tsize_t nx=mat->size1;\n158: \t/*convert vector to matrix*/\n159: \tfor(i=0; i<nx; i++){\n160: \t\tgsl_matrix_set(mat,i,i,gsl_vector_get(vec,i));\n161: \t\tfor (j=i+1;j<nx;j++){\n162: \t\t\tgsl_matrix_set(mat,i,j,gsl_vector_get(vec,i+j+nx-1));\n163: \t\t\tgsl_matrix_set(mat,j,i,gsl_vector_get(vec,i+j+nx-1));\n164: \t\t}\n165: \t}\n166: }\n167: void function_dP_dt(double t, size_t regime, const gsl_vector *p, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dP_dt){\n",
        "168: \t\n169: \tsize_t nx;\n170: \tnx = (size_t) floor(sqrt(2*(double) p->size));\n171: \tgsl_matrix *P_mat=gsl_matrix_calloc(nx,nx);\n172: \tmathfunction_vec_to_mat(p,P_mat);\n173: \tgsl_matrix *F_dx_dt_dx=gsl_matrix_calloc(nx,nx);\n174: \tfunction_dF_dx(t, regime, param, co_variate, F_dx_dt_dx);\n175: \tgsl_matrix *dFP=gsl_matrix_calloc(nx,nx);\n176: \tgsl_matrix *dP_dt=gsl_matrix_calloc(nx,nx);\n177: \tgsl_blas_dgemm(CblasNoTrans, CblasNoTrans, 1.0, F_dx_dt_dx, P_mat, 0.0, dFP);\n178: \tgsl_matrix_transpose_memcpy(dP_dt, dFP);\n",
        "179: \tgsl_matrix_add(dP_dt, dFP);\n180: \tsize_t n_Q_vec=(1+nx)*nx/2;\n181: \tgsl_vector *Q_vec=gsl_vector_calloc(n_Q_vec);\n182: \tsize_t i;\n183: \tfor(i=1;i<=n_Q_vec;i++){\n184: \t\t\tgsl_vector_set(Q_vec,n_Q_vec-i,param[n_param-i]);\n185: \t}\n186: \tgsl_matrix *Q_mat=gsl_matrix_calloc(nx,nx);\n187: \tmathfunction_vec_to_mat(Q_vec,Q_mat);\n188: \tgsl_matrix_add(dP_dt, Q_mat);\n189: \tmathfunction_mat_to_vec(dP_dt, F_dP_dt);\n190: \tgsl_matrix_free(P_mat);\n191: \tgsl_matrix_free(F_dx_dt_dx);\n192: \tgsl_matrix_free(dFP);\n193: \tgsl_matrix_free(dP_dt);\n",
        "194: \tgsl_vector_free(Q_vec);\n195: \tgsl_matrix_free(Q_mat);\n196: }\n",
        "Error in CompileCode(code, language, verbose, libLFile) : \n  Compilation ERROR, function(s)/method(s) not created!\n",
        "> ",
        "writeLines('PATH=\"${RTOOLS40_HOME}\\\\usr\\\\bin;${PATH}\"', con = \"~/.Renviron\")",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n\nRestarting R session...\n\n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n\nRestarting R session...\n\n",
        "> ",
        "",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "list.files(\"c:/Rtools40\", \"find\\\\.exe\", recursive = TRUE, full.names = TRUE)",
        "[1] \"c:/Rtools40/usr/bin/find.exe\"\n",
        "> ",
        "writeLines('PATH=\"c:/Rtools40/usr/bin/find.exe\"', con = \"~/.Renviron\")",
        "\nRestarting R session...\n\n",
        "Error in inDL(x, as.logical(local), as.logical(now), ...) : \n  unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Error: package ‘ggplot2’ could not be loaded\n",
        "\nRestarting R session...\n\n",
        "Error in inDL(x, as.logical(local), as.logical(now), ...) : \n  unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Failed with error:  ",
        "",
        "‘package ‘ggplot2’ could not be loaded’",
        "",
        "\n",
        "Error in .requirePackage(package) : \n  unable to find required package ‘dynr’\n",
        "> ",
        "install.packages(\"ggplot2\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/ggplot2_3.3.3.zip'\n",
        "Content type 'application/zip'",
        " length 4070070 bytes (3.9 MB)\n",
        "downloaded 3.9 MB\n\n",
        "package ‘ggplot2’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpAPIMC1\\downloaded_packages\n",
        "> ",
        "install.packages(\"dynr\")",
        "WARNING: Rtools is required to build R packages but is not currently installed. Please download and install the appropriate version of Rtools before proceeding:\n\nhttps://cran.rstudio.com/bin/windows/Rtools/\n",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/bin/windows/contrib/4.0/dynr_0.1.16-2.zip'\n",
        "Content type 'application/zip'",
        " length 5032899 bytes (4.8 MB)\n",
        "downloaded 4.8 MB\n\n",
        "package ‘dynr’ successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n\tC:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpAPIMC1\\downloaded_packages\n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Error: package or namespace load failed for ‘ggplot2’ in inDL(x, as.logical(local), as.logical(now), ...):\n unable to load shared object 'C:/Program Files/R/R-4.0.5/library/stats/libs/x64/stats.dll':\n  LoadLibrary failure:  The specified module could not be found.\n\n",
        "Error: package ‘ggplot2’ could not be loaded\n",
        "> ",
        "list.files(\"c:/Rtools40\", \"find\\\\.exe\", recursive = TRUE, full.names = TRUE)",
        "[1] \"c:/Rtools40/usr/bin/find.exe\"\n",
        "> ",
        "Sys.getenv()",
        "ALLUSERSPROFILE       C:\\ProgramData\nAPPDATA               C:\\Users\\Berkh011\\AppData\\Roaming\nCLICOLOR_FORCE        1\nCommonProgramFiles    C:\\Program Files\\Common Files\nCommonProgramFiles(x86)\n                      C:\\Program Files (x86)\\Common Files\nCommonProgramW6432    C:\\Program Files\\Common Files\nCOMPUTERNAME          UU080775\nComSpec               C:\\WINDOWS\\system32\\cmd.exe\nDEFLOGDIR             C:\\ProgramData\\McAfee\\Endpoint\n                      Security\\Logs\nDISPLAY               :0\nDriverData            C:\\Windows\\System32\\Drivers\\DriverData",
        "\nFPS_BROWSER_APP_PROFILE_STRING\n                      Internet Explorer\nFPS_BROWSER_USER_PROFILE_STRING\n                      Default\nGFORTRAN_STDERR_UNIT\n                      -1\nGFORTRAN_STDOUT_UNIT\n                      -1\nHOME                  C:\\Users\\Berkh011\\Documents\nHOMEDRIVE             U:\nHOMEPATH              \\\nHOMESHARE             \\\\soliscom.uu.nl\\Users\\Berkh011\nLOCALAPPDATA          C:\\Users\\Berkh011\\AppData\\Local\nLOGONSERVER           \\\\ICTSC-W-DC01\nMPLENGINE             tkAgg\nMSYS2_ENV_CONV_EXCL   R_ARCH",
        "\nNUMBER_OF_PROCESSORS\n                      8\nOneDrive              C:\\Users\\Berkh011\\OneDrive - Universiteit\n                      Utrecht\nOneDriveCommercial    C:\\Users\\Berkh011\\OneDrive - Universiteit\n                      Utrecht\nOS                    Windows_NT\nPATH                  c:/Rtools40/usr/bin/find.exe\nPATHEXT               .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nPROCESSOR_ARCHITECTURE\n                      AMD64\nPROCESSOR_IDENTIFIER\n                      Intel64 Family 6 Model 142 Stepping 12,\n                      GenuineIntel",
        "\nPROCESSOR_LEVEL       6\nPROCESSOR_REVISION    8e0c\nProgramData           C:\\ProgramData\nProgramFiles          C:\\Program Files\nProgramFiles(x86)     C:\\Program Files (x86)\nProgramW6432          C:\\Program Files\nPSModulePath          C:\\Program\n                      Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules\nPUBLIC                C:\\Users\\Public\nQT_D3DCREATE_MULTITHREADED\n                      1\nR_ARCH                /x64\nR_COMPILED_BY         gcc 8.3.0\nR_DOC_DIR             C:/PROGRA~1/R/R-40~1.5/doc",
        "\nR_HOME                C:/PROGRA~1/R/R-40~1.5\nR_LIBS_USER           C:/Users/Berkh011/Documents/R/win-library/4.0\nR_USER                C:/Users/Berkh011/Documents\nRMARKDOWN_MATHJAX_PATH\n                      C:/R363/RStudio/resources/mathjax-26\nRS_LOCAL_PEER         \\\\.\\pipe\\19554-rsession\nRS_RPOSTBACK_PATH     C:/R363/RStudio/bin/rpostback\nRS_SHARED_SECRET      63341846741\nRSTUDIO               1\nRSTUDIO_CONSOLE_COLOR\n                      256\nRSTUDIO_CONSOLE_WIDTH\n                      80\nRSTUDIO_MSYS_SSH      C:/R363/RStudio/bin/msys-ssh-1000-18",
        "\nRSTUDIO_PANDOC        C:/R363/RStudio/bin/pandoc\nRSTUDIO_SESSION_PORT\n                      19554\nRSTUDIO_USER_IDENTITY\n                      Berkh011\nRSTUDIO_WINUTILS      C:/R363/RStudio/bin/winutils\nSESSIONNAME           Console\nSystemDrive           C:\nSystemRoot            C:\\WINDOWS\nTEMP                  C:\\Users\\Berkh011\\AppData\\Local\\Temp\nTERM                  xterm-256color\nTMP                   C:\\Users\\Berkh011\\AppData\\Local\\Temp\nUATDATA               C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77",
        "\nUSERDNSDOMAIN         SOLISCOM.UU.NL\nUSERDOMAIN            SOLISCOM\nUSERDOMAIN_ROAMINGPROFILE\n                      SOLISCOM\nUSERNAME              Berkh011\nUSERPROFILE           C:\\Users\\Berkh011\nwindir                C:\\WINDOWS\n",
        "> ",
        "Sys.getenv(\"PATH\")",
        "[1] \"c:/Rtools40/usr/bin/find.exe\"\n",
        "> ",
        "R.Version()",
        "$platform\n[1] \"x86_64-w64-mingw32\"\n\n$arch\n[1] \"x86_64\"\n\n$os\n[1] \"mingw32\"\n\n$system\n[1] \"x86_64, mingw32\"\n\n$status\n[1] \"\"\n\n$major\n[1] \"4\"\n\n$minor\n[1] \"0.5\"\n\n$year\n[1] \"2021\"\n\n$month\n[1] \"03\"\n\n$day\n[1] \"31\"\n\n$`svn rev`\n[1] \"80133\"\n\n$language\n[1] \"R\"\n\n$version.string\n[1] \"R version 4.0.5 (2021-03-31)\"\n\n$nickname\n[1] \"Shake and Throw\"\n\n\nRestarting R session...\n\n",
        "Loading required package: dynr\n",
        "Loading required package: ggplot2\n",
        "Keep up to date with changes at https://www.tidyverse.org/blog/\n",
        "> ",
        "meas <- prep.measurement(",
        "\n",
        "> ",
        "  values.load=matrix(c(1, 0), 1, 2),",
        "\n",
        "\n",
        "> ",
        "  params.load=matrix(c('fixed', 'fixed'), 1, 2),",
        "Error: unexpected ',' in \"  params.load=matrix(c('fixed', 'fixed'), 1, 2),\"\n",
        "\n",
        "> ",
        "  state.names=c(\"Position\",\"Velocity\"),",
        "\n",
        "> ",
        "  obs.names=c(\"y1\"))",
        "\n",
        "\n",
        "> ",
        "ecov <- prep.noise(",
        "+ ",
        "  values.latent=diag(c(0, 1), 2),",
        "+ ",
        "  params.latent=diag(c('fixed', 'dnoise'), 2),",
        "+ ",
        "  values.observed=diag(1.5, 1),",
        "+ ",
        "  params.observed=diag('mnoise', 1))",
        "> ",
        "",
        "> ",
        "meas <- prep.measurement(",
        "+ ",
        "  values.load=matrix(c(1, 0), 1, 2),",
        "+ ",
        "  params.load=matrix(c('fixed', 'fixed'), 1, 2),",
        "+ ",
        "  state.names=c(\"Position\",\"Velocity\"),",
        "+ ",
        "  obs.names=c(\"y1\"))",
        "> ",
        "ecov <- prep.noise(",
        "+ ",
        "  values.latent=diag(c(0, 1), 2),",
        "+ ",
        "  params.latent=diag(c('fixed', 'dnoise'), 2),",
        "+ ",
        "  values.observed=diag(1.5, 1),",
        "+ ",
        "  params.observed=diag('mnoise', 1))",
        "> ",
        "initial <- prep.initial(",
        "+ ",
        "  values.inistate=c(0, 1),",
        "+ ",
        "  params.inistate=c('inipos', 'fixed'),",
        "+ ",
        "  values.inicov=diag(1, 2),",
        "+ ",
        "  params.inicov=diag('fixed', 2))",
        "> ",
        "dynamics <- prep.matrixDynamics(",
        "+ ",
        "  values.dyn=matrix(c(0, -0.1, 1, -0.2), 2, 2),",
        "+ ",
        "  params.dyn=matrix(c('fixed', 'spring', 'fixed', 'friction'), 2, 2),",
        "+ ",
        "  isContinuousTime=TRUE)",
        "> ",
        "data(Oscillator)",
        "> ",
        "data <- dynr.data(Oscillator, id=\"id\", time=\"times\", observed=\"y1\")",
        "> ",
        "model <- dynr.model(dynamics=dynamics, measurement=meas,",
        "+ ",
        "                    noise=ecov, initial=initial, data=data)",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "May I present to you your error messages?\nWarning message:\nIn system(cmd) : 'make' not found\n\nERROR(s) during compilation: source code errors or compiler configuration errors!\n\nProgram source:\n  1: #include <math.h>\n  2: #include <gsl/gsl_matrix.h>\n  3: #include <gsl/gsl_blas.h>\n  4: \n  5: \n  6: /**\n  7:  * This function takes a double and gives back a double\n  8:  * It computes the logistic function (i.e. the inverse of the logit link function)\n  9:  * @param x, the double value e.g. a normally distributed number\n",
        " 10:  * @return logistic(x), the double value e.g. a number between 0 and 1\n 11:  */\n 12: double mathfunction_logistic(const double x){\n 13: \tdouble value = 1.0/(1.0 + exp(-x));\n 14: \treturn value;\n 15: }\n 16: \n 17: /**\n 18:  * This function takes a gsl_vector and modifies its second argument (another gsl_vector)\n 19:  * It computes the softmax function (e.g. for multinomial logistic regression)\n 20:  * @param x, vector of double values e.g. a vector of normally distributed numbers\n 21:  * @param result, softmax(x), e.g. a vector of numbers between 0 and 1 that sum to 1\n",
        " 22:  */\n 23: void mathfunction_softmax(const gsl_vector *x, gsl_vector *result){\n 24: \t/* Elementwise exponentiation */\n 25: \tsize_t index=0;\n 26: \tfor(index=0; index < x->size; index++){\n 27: \t\tgsl_vector_set(result, index, exp(gsl_vector_get(x, index)));\n 28: \t}\n 29: \t\n 30: \t/* Sum for the scaling coeficient */\n 31: \tdouble scale = 0.0;\n 32: \tfor(index=0; index < x->size; index++){\n 33: \t\tscale += gsl_vector_get(result, index);\n 34: \t}\n 35: \t\n 36: \t/* Multiply all elements of result by 1/scale */\n 37: \tgsl_blas_dscal(1/scale, result);\n",
        " 38: }\n 39: \n 40: \n 41: void function_dx_dt(double t, size_t regime, const gsl_vector *x, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dx_dt){\n 42: \tgsl_matrix *Amatrix = gsl_matrix_calloc(2, 2);\n 43: \n 44: \tgsl_matrix_set(Amatrix, 1, 0, param[0]);\n 45: \tgsl_matrix_set(Amatrix, 0, 1, 1);\n 46: \tgsl_matrix_set(Amatrix, 1, 1, param[1]);\n 47: \n 48: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Amatrix, x, 0.0, F_dx_dt);\n 49: \n 50: \tgsl_matrix_free(Amatrix);\n 51: \n 52: }\n 53: \n 54: \n 55: void function_dF_dx(double t, size_t regime, double *param, const gsl_vector *co_variate, gsl_matrix *F_dx_dt_dx){\n",
        " 56: \tgsl_matrix_set(F_dx_dt_dx, 1, 0, param[0]);\n 57: \tgsl_matrix_set(F_dx_dt_dx, 0, 1, 1);\n 58: \tgsl_matrix_set(F_dx_dt_dx, 1, 1, param[1]);\n 59: \n 60: }\n 61: \n 62: \n 63: \n 64: void function_measurement(size_t t, size_t regime, double *param, const gsl_vector *eta, const gsl_vector *co_variate, gsl_matrix *Ht, gsl_vector *y){\n 65: \n 66: \n 67: \tgsl_matrix_set(Ht, 0, 0, 1);\n 68:  \n 69: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Ht, eta, 0.0, y);\n 70:  \n 71: }\n 72: \n 73: \n 74: \n 75: void function_noise_cov(size_t t, size_t regime, double *param, gsl_matrix *y_noise_cov, gsl_matrix *eta_noise_cov){\n",
        " 76: \n 77: \n 78: \tgsl_matrix_set(eta_noise_cov, 0, 0, -13.8155105579643);\n 79: \tgsl_matrix_set(eta_noise_cov, 1, 1, param[2]);\n 80: \n 81: \tgsl_matrix_set(y_noise_cov, 0, 0, param[3]);\n 82:  \n 83: }\n 84: \n 85: \n 86: \n 87: void function_initial_condition(double *param, gsl_vector **co_variate, gsl_vector **pr_0, gsl_vector **eta_0, gsl_matrix **error_cov_0, size_t *index_sbj){\n 88: \t\n 89: \tgsl_vector *Pvector = gsl_vector_calloc(1);\n 90: \tgsl_vector *Pintercept = gsl_vector_calloc(1);\n 91: \tgsl_vector *Padd = gsl_vector_calloc(1);\n",
        " 92: \tgsl_vector *Preset = gsl_vector_calloc(1);\n 93: \tgsl_vector_set(Pvector, 0, 1);\n 94: \tgsl_vector_add(Padd, Pvector);\n 95: \tgsl_vector_add(Padd, Pintercept);\n 96: \tgsl_vector_add(Preset, Pvector);\n 97: \tgsl_vector_add(Preset, Pintercept);\n 98: \tgsl_vector *eta_local = gsl_vector_calloc(2);\n 99: \tsize_t num_regime=pr_0[0]->size;\n100: \tsize_t dim_latent_var=error_cov_0[0]->size1;\n101: \tsize_t num_sbj=(eta_0[0]->size)/(dim_latent_var);\n102: \tsize_t i;\n103: \tsize_t regime;\n104: \tfor(regime=0; regime < num_regime; regime++){\n",
        "105: \t\tfor(i=0; i < num_sbj; i++){\n106: \t\t\tgsl_vector_set(eta_local, 0, param[4]);\n107: \t\t\tgsl_vector_set(eta_local, 1, 1);\n108: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+0, gsl_vector_get(eta_local, 0));\n109: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+1, gsl_vector_get(eta_local, 1));\n110: \t\t\tgsl_vector_set_zero(eta_local);\n111: \t\t}\n112: \t}\n113: \tfor(i=0; i < num_sbj; i++){\n114: \t\tmathfunction_softmax(Padd, pr_0[i]);\n115: \t}\n116: \tgsl_vector_free(Pvector);\n117: \tgsl_vector_free(Pintercept);\n",
        "118: \tgsl_vector_free(Padd);\n119: \tgsl_vector_free(Preset);\n120: \tgsl_vector_free(eta_local);\n121: }\n122: \n123: \n124: /**\n125:  * This function modifies some of the parameters so that it satisfies the model constraint.\n126:  * Do not include parameters in noise_cov matrices \n127:  */\n128: void function_transform(double *param){\n129: }\n130: \n131: \n132: \n133: void function_regime_switch(size_t t, size_t type, double *param, const gsl_vector *co_variate, gsl_matrix *regime_switch_mat){\n134: \tgsl_matrix_set_identity(regime_switch_mat);\n",
        "135: }\n136: \n137: \n138: \n139: /**\n140:  * The dP/dt function: depend on function_dF_dx, needs to be compiled on the user end\n141:  * but user does not need to modify it or care about it.\n142:  */\n143: void mathfunction_mat_to_vec(const gsl_matrix *mat, gsl_vector *vec){\n144: \tsize_t i,j;\n145: \tsize_t nx=mat->size1;\n146: \t/*convert matrix to vector*/\n147: \tfor(i=0; i<nx; i++){\n148: \t\tgsl_vector_set(vec,i,gsl_matrix_get(mat,i,i));\n149: \t\tfor (j=i+1;j<nx;j++){\n150: \t\t\tgsl_vector_set(vec,i+j+nx-1,gsl_matrix_get(mat,i,j));\n",
        "151: \t\t\t/*printf(\"%lu\",i+j+nx-1);}*/\n152: \t\t}\n153: \t}\n154: }\n155: void mathfunction_vec_to_mat(const gsl_vector *vec, gsl_matrix *mat){\n156: \tsize_t i,j;\n157: \tsize_t nx=mat->size1;\n158: \t/*convert vector to matrix*/\n159: \tfor(i=0; i<nx; i++){\n160: \t\tgsl_matrix_set(mat,i,i,gsl_vector_get(vec,i));\n161: \t\tfor (j=i+1;j<nx;j++){\n162: \t\t\tgsl_matrix_set(mat,i,j,gsl_vector_get(vec,i+j+nx-1));\n163: \t\t\tgsl_matrix_set(mat,j,i,gsl_vector_get(vec,i+j+nx-1));\n164: \t\t}\n165: \t}\n166: }\n167: void function_dP_dt(double t, size_t regime, const gsl_vector *p, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dP_dt){\n",
        "168: \t\n169: \tsize_t nx;\n170: \tnx = (size_t) floor(sqrt(2*(double) p->size));\n171: \tgsl_matrix *P_mat=gsl_matrix_calloc(nx,nx);\n172: \tmathfunction_vec_to_mat(p,P_mat);\n173: \tgsl_matrix *F_dx_dt_dx=gsl_matrix_calloc(nx,nx);\n174: \tfunction_dF_dx(t, regime, param, co_variate, F_dx_dt_dx);\n175: \tgsl_matrix *dFP=gsl_matrix_calloc(nx,nx);\n176: \tgsl_matrix *dP_dt=gsl_matrix_calloc(nx,nx);\n177: \tgsl_blas_dgemm(CblasNoTrans, CblasNoTrans, 1.0, F_dx_dt_dx, P_mat, 0.0, dFP);\n178: \tgsl_matrix_transpose_memcpy(dP_dt, dFP);\n",
        "179: \tgsl_matrix_add(dP_dt, dFP);\n180: \tsize_t n_Q_vec=(1+nx)*nx/2;\n181: \tgsl_vector *Q_vec=gsl_vector_calloc(n_Q_vec);\n182: \tsize_t i;\n183: \tfor(i=1;i<=n_Q_vec;i++){\n184: \t\t\tgsl_vector_set(Q_vec,n_Q_vec-i,param[n_param-i]);\n185: \t}\n186: \tgsl_matrix *Q_mat=gsl_matrix_calloc(nx,nx);\n187: \tmathfunction_vec_to_mat(Q_vec,Q_mat);\n188: \tgsl_matrix_add(dP_dt, Q_mat);\n189: \tmathfunction_mat_to_vec(dP_dt, F_dP_dt);\n190: \tgsl_matrix_free(P_mat);\n191: \tgsl_matrix_free(F_dx_dt_dx);\n192: \tgsl_matrix_free(dFP);\n193: \tgsl_matrix_free(dP_dt);\n",
        "194: \tgsl_vector_free(Q_vec);\n195: \tgsl_matrix_free(Q_mat);\n196: }\n",
        "Error in CompileCode(code, language, verbose, libLFile) : \n  Compilation ERROR, function(s)/method(s) not created!\n",
        "\nRestarting R session...\n\n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Keep up to date with changes at https://www.tidyverse.org/blog/\n",
        "> ",
        "meas <- prep.measurement(",
        "+ ",
        "  values.load=matrix(c(1, 0), 1, 2),",
        "+ ",
        "  params.load=matrix(c('fixed', 'fixed'), 1, 2),",
        "+ ",
        "  state.names=c(\"Position\",\"Velocity\"),",
        "+ ",
        "  obs.names=c(\"y1\"))",
        "> ",
        "ecov <- prep.noise(",
        "+ ",
        "  values.latent=diag(c(0, 1), 2),",
        "+ ",
        "  params.latent=diag(c('fixed', 'dnoise'), 2),",
        "+ ",
        "  values.observed=diag(1.5, 1),",
        "+ ",
        "  params.observed=diag('mnoise', 1))",
        "> ",
        "initial <- prep.initial(",
        "+ ",
        "  values.inistate=c(0, 1),",
        "+ ",
        "  params.inistate=c('inipos', 'fixed'),",
        "+ ",
        "  values.inicov=diag(1, 2),",
        "+ ",
        "  params.inicov=diag('fixed', 2))",
        "> ",
        "dynamics <- prep.matrixDynamics(",
        "+ ",
        "  values.dyn=matrix(c(0, -0.1, 1, -0.2), 2, 2),",
        "+ ",
        "  params.dyn=matrix(c('fixed', 'spring', 'fixed', 'friction'), 2, 2),",
        "+ ",
        "  isContinuousTime=TRUE)",
        "> ",
        "data(Oscillator)",
        "> ",
        "data <- dynr.data(Oscillator, id=\"id\", time=\"times\", observed=\"y1\")",
        "> ",
        "model <- dynr.model(dynamics=dynamics, measurement=meas,",
        "+ ",
        "                    noise=ecov, initial=initial, data=data)",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "May I present to you your error messages?\nWarning message:\nIn system(cmd) : 'make' not found\n\nERROR(s) during compilation: source code errors or compiler configuration errors!\n\nProgram source:\n  1: #include <math.h>\n  2: #include <gsl/gsl_matrix.h>\n  3: #include <gsl/gsl_blas.h>\n  4: \n  5: \n  6: /**\n  7:  * This function takes a double and gives back a double\n  8:  * It computes the logistic function (i.e. the inverse of the logit link function)\n  9:  * @param x, the double value e.g. a normally distributed number\n",
        " 10:  * @return logistic(x), the double value e.g. a number between 0 and 1\n 11:  */\n 12: double mathfunction_logistic(const double x){\n 13: \tdouble value = 1.0/(1.0 + exp(-x));\n 14: \treturn value;\n 15: }\n 16: \n 17: /**\n 18:  * This function takes a gsl_vector and modifies its second argument (another gsl_vector)\n 19:  * It computes the softmax function (e.g. for multinomial logistic regression)\n 20:  * @param x, vector of double values e.g. a vector of normally distributed numbers\n 21:  * @param result, softmax(x), e.g. a vector of numbers between 0 and 1 that sum to 1\n",
        " 22:  */\n 23: void mathfunction_softmax(const gsl_vector *x, gsl_vector *result){\n 24: \t/* Elementwise exponentiation */\n 25: \tsize_t index=0;\n 26: \tfor(index=0; index < x->size; index++){\n 27: \t\tgsl_vector_set(result, index, exp(gsl_vector_get(x, index)));\n 28: \t}\n 29: \t\n 30: \t/* Sum for the scaling coeficient */\n 31: \tdouble scale = 0.0;\n 32: \tfor(index=0; index < x->size; index++){\n 33: \t\tscale += gsl_vector_get(result, index);\n 34: \t}\n 35: \t\n 36: \t/* Multiply all elements of result by 1/scale */\n 37: \tgsl_blas_dscal(1/scale, result);\n",
        " 38: }\n 39: \n 40: \n 41: void function_dx_dt(double t, size_t regime, const gsl_vector *x, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dx_dt){\n 42: \tgsl_matrix *Amatrix = gsl_matrix_calloc(2, 2);\n 43: \n 44: \tgsl_matrix_set(Amatrix, 1, 0, param[0]);\n 45: \tgsl_matrix_set(Amatrix, 0, 1, 1);\n 46: \tgsl_matrix_set(Amatrix, 1, 1, param[1]);\n 47: \n 48: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Amatrix, x, 0.0, F_dx_dt);\n 49: \n 50: \tgsl_matrix_free(Amatrix);\n 51: \n 52: }\n 53: \n 54: \n 55: void function_dF_dx(double t, size_t regime, double *param, const gsl_vector *co_variate, gsl_matrix *F_dx_dt_dx){\n",
        " 56: \tgsl_matrix_set(F_dx_dt_dx, 1, 0, param[0]);\n 57: \tgsl_matrix_set(F_dx_dt_dx, 0, 1, 1);\n 58: \tgsl_matrix_set(F_dx_dt_dx, 1, 1, param[1]);\n 59: \n 60: }\n 61: \n 62: \n 63: \n 64: void function_measurement(size_t t, size_t regime, double *param, const gsl_vector *eta, const gsl_vector *co_variate, gsl_matrix *Ht, gsl_vector *y){\n 65: \n 66: \n 67: \tgsl_matrix_set(Ht, 0, 0, 1);\n 68:  \n 69: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Ht, eta, 0.0, y);\n 70:  \n 71: }\n 72: \n 73: \n 74: \n 75: void function_noise_cov(size_t t, size_t regime, double *param, gsl_matrix *y_noise_cov, gsl_matrix *eta_noise_cov){\n",
        " 76: \n 77: \n 78: \tgsl_matrix_set(eta_noise_cov, 0, 0, -13.8155105579643);\n 79: \tgsl_matrix_set(eta_noise_cov, 1, 1, param[2]);\n 80: \n 81: \tgsl_matrix_set(y_noise_cov, 0, 0, param[3]);\n 82:  \n 83: }\n 84: \n 85: \n 86: \n 87: void function_initial_condition(double *param, gsl_vector **co_variate, gsl_vector **pr_0, gsl_vector **eta_0, gsl_matrix **error_cov_0, size_t *index_sbj){\n 88: \t\n 89: \tgsl_vector *Pvector = gsl_vector_calloc(1);\n 90: \tgsl_vector *Pintercept = gsl_vector_calloc(1);\n 91: \tgsl_vector *Padd = gsl_vector_calloc(1);\n",
        " 92: \tgsl_vector *Preset = gsl_vector_calloc(1);\n 93: \tgsl_vector_set(Pvector, 0, 1);\n 94: \tgsl_vector_add(Padd, Pvector);\n 95: \tgsl_vector_add(Padd, Pintercept);\n 96: \tgsl_vector_add(Preset, Pvector);\n 97: \tgsl_vector_add(Preset, Pintercept);\n 98: \tgsl_vector *eta_local = gsl_vector_calloc(2);\n 99: \tsize_t num_regime=pr_0[0]->size;\n100: \tsize_t dim_latent_var=error_cov_0[0]->size1;\n101: \tsize_t num_sbj=(eta_0[0]->size)/(dim_latent_var);\n102: \tsize_t i;\n103: \tsize_t regime;\n104: \tfor(regime=0; regime < num_regime; regime++){\n",
        "105: \t\tfor(i=0; i < num_sbj; i++){\n106: \t\t\tgsl_vector_set(eta_local, 0, param[4]);\n107: \t\t\tgsl_vector_set(eta_local, 1, 1);\n108: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+0, gsl_vector_get(eta_local, 0));\n109: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+1, gsl_vector_get(eta_local, 1));\n110: \t\t\tgsl_vector_set_zero(eta_local);\n111: \t\t}\n112: \t}\n113: \tfor(i=0; i < num_sbj; i++){\n114: \t\tmathfunction_softmax(Padd, pr_0[i]);\n115: \t}\n116: \tgsl_vector_free(Pvector);\n117: \tgsl_vector_free(Pintercept);\n",
        "118: \tgsl_vector_free(Padd);\n119: \tgsl_vector_free(Preset);\n120: \tgsl_vector_free(eta_local);\n121: }\n122: \n123: \n124: /**\n125:  * This function modifies some of the parameters so that it satisfies the model constraint.\n126:  * Do not include parameters in noise_cov matrices \n127:  */\n128: void function_transform(double *param){\n129: }\n130: \n131: \n132: \n133: void function_regime_switch(size_t t, size_t type, double *param, const gsl_vector *co_variate, gsl_matrix *regime_switch_mat){\n134: \tgsl_matrix_set_identity(regime_switch_mat);\n",
        "135: }\n136: \n137: \n138: \n139: /**\n140:  * The dP/dt function: depend on function_dF_dx, needs to be compiled on the user end\n141:  * but user does not need to modify it or care about it.\n142:  */\n143: void mathfunction_mat_to_vec(const gsl_matrix *mat, gsl_vector *vec){\n144: \tsize_t i,j;\n145: \tsize_t nx=mat->size1;\n146: \t/*convert matrix to vector*/\n147: \tfor(i=0; i<nx; i++){\n148: \t\tgsl_vector_set(vec,i,gsl_matrix_get(mat,i,i));\n149: \t\tfor (j=i+1;j<nx;j++){\n150: \t\t\tgsl_vector_set(vec,i+j+nx-1,gsl_matrix_get(mat,i,j));\n",
        "151: \t\t\t/*printf(\"%lu\",i+j+nx-1);}*/\n152: \t\t}\n153: \t}\n154: }\n155: void mathfunction_vec_to_mat(const gsl_vector *vec, gsl_matrix *mat){\n156: \tsize_t i,j;\n157: \tsize_t nx=mat->size1;\n158: \t/*convert vector to matrix*/\n159: \tfor(i=0; i<nx; i++){\n160: \t\tgsl_matrix_set(mat,i,i,gsl_vector_get(vec,i));\n161: \t\tfor (j=i+1;j<nx;j++){\n162: \t\t\tgsl_matrix_set(mat,i,j,gsl_vector_get(vec,i+j+nx-1));\n163: \t\t\tgsl_matrix_set(mat,j,i,gsl_vector_get(vec,i+j+nx-1));\n164: \t\t}\n165: \t}\n166: }\n167: void function_dP_dt(double t, size_t regime, const gsl_vector *p, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dP_dt){\n",
        "168: \t\n169: \tsize_t nx;\n170: \tnx = (size_t) floor(sqrt(2*(double) p->size));\n171: \tgsl_matrix *P_mat=gsl_matrix_calloc(nx,nx);\n172: \tmathfunction_vec_to_mat(p,P_mat);\n173: \tgsl_matrix *F_dx_dt_dx=gsl_matrix_calloc(nx,nx);\n174: \tfunction_dF_dx(t, regime, param, co_variate, F_dx_dt_dx);\n175: \tgsl_matrix *dFP=gsl_matrix_calloc(nx,nx);\n176: \tgsl_matrix *dP_dt=gsl_matrix_calloc(nx,nx);\n177: \tgsl_blas_dgemm(CblasNoTrans, CblasNoTrans, 1.0, F_dx_dt_dx, P_mat, 0.0, dFP);\n178: \tgsl_matrix_transpose_memcpy(dP_dt, dFP);\n",
        "179: \tgsl_matrix_add(dP_dt, dFP);\n180: \tsize_t n_Q_vec=(1+nx)*nx/2;\n181: \tgsl_vector *Q_vec=gsl_vector_calloc(n_Q_vec);\n182: \tsize_t i;\n183: \tfor(i=1;i<=n_Q_vec;i++){\n184: \t\t\tgsl_vector_set(Q_vec,n_Q_vec-i,param[n_param-i]);\n185: \t}\n186: \tgsl_matrix *Q_mat=gsl_matrix_calloc(nx,nx);\n187: \tmathfunction_vec_to_mat(Q_vec,Q_mat);\n188: \tgsl_matrix_add(dP_dt, Q_mat);\n189: \tmathfunction_mat_to_vec(dP_dt, F_dP_dt);\n190: \tgsl_matrix_free(P_mat);\n191: \tgsl_matrix_free(F_dx_dt_dx);\n192: \tgsl_matrix_free(dFP);\n193: \tgsl_matrix_free(dP_dt);\n",
        "194: \tgsl_vector_free(Q_vec);\n195: \tgsl_matrix_free(Q_mat);\n196: }\n",
        "Error in CompileCode(code, language, verbose, libLFile) : \n  Compilation ERROR, function(s)/method(s) not created!\n",
        "> ",
        "has_rtools()",
        "Error in has_rtools() : could not find function \"has_rtools\"\n",
        "> ",
        "library(\"pkgbuild\")",
        "> ",
        "has_rtools()",
        "[1] TRUE\n",
        "> ",
        "has_rtools(debug = FALSE)",
        "[1] TRUE\n",
        "> ",
        "rtools_path()",
        "[1] \"C:\\\\rtools40/usr/bin\"\n",
        "> ",
        "check_rtools()",
        "[1] TRUE\n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "Sys.getenv(\"HOME\")",
        "[1] \"C:\\\\Users\\\\Berkh011\\\\Documents\"\n",
        "> ",
        "library(devtools)",
        "Loading required package: usethis\n",
        "\nAttaching package: ‘devtools’\n\n",
        "The following object is masked from ‘package:pkgbuild’:\n\n    build\n\n",
        "> ",
        "Sys.getenv()",
        "ALLUSERSPROFILE       C:\\ProgramData\nAPPDATA               C:\\Users\\Berkh011\\AppData\\Roaming\nCLICOLOR_FORCE        1\nCommonProgramFiles    C:\\Program Files\\Common Files\nCommonProgramFiles(x86)\n                      C:\\Program Files (x86)\\Common Files\nCommonProgramW6432    C:\\Program Files\\Common Files\nCOMPUTERNAME          UU080775\nComSpec               C:\\WINDOWS\\system32\\cmd.exe\nDEFLOGDIR             C:\\ProgramData\\McAfee\\Endpoint\n                      Security\\Logs\nDISPLAY               :0\nDriverData            C:\\Windows\\System32\\Drivers\\DriverData",
        "\nFPS_BROWSER_APP_PROFILE_STRING\n                      Internet Explorer\nFPS_BROWSER_USER_PROFILE_STRING\n                      Default\nGFORTRAN_STDERR_UNIT\n                      -1\nGFORTRAN_STDOUT_UNIT\n                      -1\nHOME                  C:\\Users\\Berkh011\\Documents\nHOMEDRIVE             U:\nHOMEPATH              \\\nHOMESHARE             \\\\soliscom.uu.nl\\Users\\Berkh011\nLOCALAPPDATA          C:\\Users\\Berkh011\\AppData\\Local\nLOGONSERVER           \\\\ICTSC-W-DC01\nMPLENGINE             tkAgg\nMSYS2_ENV_CONV_EXCL   R_ARCH",
        "\nNUMBER_OF_PROCESSORS\n                      8\nOneDrive              C:\\Users\\Berkh011\\OneDrive - Universiteit\n                      Utrecht\nOneDriveCommercial    C:\\Users\\Berkh011\\OneDrive - Universiteit\n                      Utrecht\nOS                    Windows_NT\nPATH                  C:\\Program\n                      Files\\R\\R-4.0.5\\bin\\x64;C:\\R363\\RfW\\bin\\x64;C:\\Rtools\\bin;C:\\Rtools\\mingw_64\\bin;C:\\Program\n                      Files\\JAGS\\JAGS-4.3.0\\x64\\bin;C:\\R363\\MiKTeX\\miktex\\bin\\;C:\\Program\n                      Files (x86)\\Common\n                      Files\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\WINDOWS\\system32\\config\\systemprofile\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program\n                      Files\\Git\\cmd;C:\\Users\\Berkh011\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Berkh011\\AppData\\Local\\GitHubDesktop\\bin",
        "\nPATHEXT               .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nPKG_CPPFLAGS          -I\"/include\"\nPKG_LIBS              -L\"/lib/x64\" -lgsl -lgslcblas\nPROCESSOR_ARCHITECTURE\n                      AMD64\nPROCESSOR_IDENTIFIER\n                      Intel64 Family 6 Model 142 Stepping 12,\n                      GenuineIntel\nPROCESSOR_LEVEL       6\nPROCESSOR_REVISION    8e0c\nProgramData           C:\\ProgramData\nProgramFiles          C:\\Program Files\nProgramFiles(x86)     C:\\Program Files (x86)\nProgramW6432          C:\\Program Files",
        "\nPSModulePath          C:\\Program\n                      Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules\nPUBLIC                C:\\Users\\Public\nQT_D3DCREATE_MULTITHREADED\n                      1\nR_ARCH                /x64\nR_COMPILED_BY         gcc 8.3.0\nR_DOC_DIR             C:/PROGRA~1/R/R-40~1.5/doc\nR_HOME                C:/PROGRA~1/R/R-40~1.5\nR_LIBS_USER           C:/Users/Berkh011/Documents/R/win-library/4.0\nR_USER                C:/Users/Berkh011/Documents\nRMARKDOWN_MATHJAX_PATH\n                      C:/R363/RStudio/resources/mathjax-26",
        "\nRS_LOCAL_PEER         \\\\.\\pipe\\19554-rsession\nRS_RPOSTBACK_PATH     C:/R363/RStudio/bin/rpostback\nRS_SHARED_SECRET      63341846741\nRSTUDIO               1\nRSTUDIO_CONSOLE_COLOR\n                      256\nRSTUDIO_CONSOLE_WIDTH\n                      80\nRSTUDIO_MSYS_SSH      C:/R363/RStudio/bin/msys-ssh-1000-18\nRSTUDIO_PANDOC        C:/R363/RStudio/bin/pandoc\nRSTUDIO_SESSION_PORT\n                      19554\nRSTUDIO_USER_IDENTITY\n                      Berkh011\nRSTUDIO_WINUTILS      C:/R363/RStudio/bin/winutils",
        "\nSESSIONNAME           Console\nSystemDrive           C:\nSystemRoot            C:\\WINDOWS\nTEMP                  C:\\Users\\Berkh011\\AppData\\Local\\Temp\nTERM                  xterm-256color\nTMP                   C:\\Users\\Berkh011\\AppData\\Local\\Temp\nUATDATA               C:\\WINDOWS\\CCM\\UATData\\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77\nUSERDNSDOMAIN         SOLISCOM.UU.NL\nUSERDOMAIN            SOLISCOM\nUSERDOMAIN_ROAMINGPROFILE\n                      SOLISCOM\nUSERNAME              Berkh011\nUSERPROFILE           C:\\Users\\Berkh011",
        "\nwindir                C:\\WINDOWS\n",
        "> ",
        "Sys.getenv(\"PATH\")",
        "[1] \"C:\\\\Program Files\\\\R\\\\R-4.0.5\\\\bin\\\\x64;C:\\\\R363\\\\RfW\\\\bin\\\\x64;C:\\\\Rtools\\\\bin;C:\\\\Rtools\\\\mingw_64\\\\bin;C:\\\\Program Files\\\\JAGS\\\\JAGS-4.3.0\\\\x64\\\\bin;C:\\\\R363\\\\MiKTeX\\\\miktex\\\\bin\\\\;C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\javapath;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\;C:\\\\WINDOWS\\\\System32\\\\OpenSSH\\\\;C:\\\\WINDOWS\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Program Files\\\\Git\\\\cmd;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\GitHubDesktop\\\\bin\"",
        "\n\nRestarting R session...\n\n",
        "\n",
        "> ",
        "devtools::has_rtools()",
        "Error: 'has_rtools' is not an exported object from 'namespace:devtools'\n",
        "> ",
        "pkgbuild::has_rtools()",
        "[1] TRUE\n\nRestarting R session...\n\n",
        "> ",
        "1+1",
        "[1] 2\n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Keep up to date with changes at https://www.tidyverse.org/blog/\n",
        "> ",
        "meas <- prep.measurement(",
        "+ ",
        "  values.load=matrix(c(1, 0), 1, 2),",
        "+ ",
        "  params.load=matrix(c('fixed', 'fixed'), 1, 2),",
        "+ ",
        "  state.names=c(\"Position\",\"Velocity\"),",
        "+ ",
        "  obs.names=c(\"y1\"))",
        "> ",
        "ecov <- prep.noise(",
        "+ ",
        "  values.latent=diag(c(0, 1), 2),",
        "+ ",
        "  params.latent=diag(c('fixed', 'dnoise'), 2),",
        "+ ",
        "  values.observed=diag(1.5, 1),",
        "+ ",
        "  params.observed=diag('mnoise', 1))",
        "> ",
        "initial <- prep.initial(",
        "+ ",
        "  values.inistate=c(0, 1),",
        "+ ",
        "  params.inistate=c('inipos', 'fixed'),",
        "+ ",
        "  values.inicov=diag(1, 2),",
        "+ ",
        "  params.inicov=diag('fixed', 2))",
        "> ",
        "dynamics <- prep.matrixDynamics(",
        "+ ",
        "  values.dyn=matrix(c(0, -0.1, 1, -0.2), 2, 2),",
        "+ ",
        "  params.dyn=matrix(c('fixed', 'spring', 'fixed', 'friction'), 2, 2),",
        "+ ",
        "  isContinuousTime=TRUE)",
        "> ",
        "data(Oscillator)",
        "> ",
        "data <- dynr.data(Oscillator, id=\"id\", time=\"times\", observed=\"y1\")",
        "> ",
        "model <- dynr.model(dynamics=dynamics, measurement=meas,",
        "+ ",
        "                    noise=ecov, initial=initial, data=data)",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(file, ifelse(append, \"a\", \"w\")) : \n  cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(file, ifelse(append, \"a\", \"w\")) :",
        "\n ",
        " cannot open file 'C:/Users/Berkh011/AppData/Local/Temp/RtmpO8O4/file52f0f37134e.c': No such file or directory\n",
        "> ",
        "Sys.getenv(\"PATH\")",
        "[1] \"C:\\\\Program Files\\\\R\\\\R-4.0.5\\\\bin\\\\x64;C:\\\\R363\\\\RfW\\\\bin\\\\x64;C:\\\\Rtools\\\\bin;C:\\\\Rtools\\\\mingw_64\\\\bin;C:\\\\Program Files\\\\JAGS\\\\JAGS-4.3.0\\\\x64\\\\bin;C:\\\\R363\\\\MiKTeX\\\\miktex\\\\bin\\\\;C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\javapath;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\;C:\\\\WINDOWS\\\\System32\\\\OpenSSH\\\\;C:\\\\WINDOWS\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Program Files\\\\Git\\\\cmd;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\GitHubDesktop\\\\bin\"",
        "\n",
        "> ",
        "Sys.which(\"mkae\")",
        "mkae \n  \"\" \n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "writeLines('PATH=\"${RTOOLS40_HOME}\\\\usr\\\\bin;${PATH}\"', con = \"~/.Renviron\")",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "pkgbuild::rtools_path()",
        "[1] \"C:\\\\rtools40/usr/bin\"\n\nRestarting R session...\n\n",
        "> ",
        "1+1",
        "[1] 2\n",
        "> ",
        "pkgbuild::rtools_path()",
        "[1] \"C:\\\\rtools40/usr/bin\"\n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Keep up to date with changes at https://www.tidyverse.org/blog/\n",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(con, \"r\") : cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(con, \"r\") :",
        "\n ",
        " cannot open file 'C:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpO8O4Yc\\file52f0f37134e': No such file or directory\n",
        "> ",
        "echo $RTOOLS40_HOME",
        "Error: object 'echo' not found\n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "writeLines('PATH=\"${PATH};${RTOOLS40_HOME}\\\\usr\\\\bin\"', con = \"~/.Renviron\")",
        "\nRestarting R session...\n\n",
        "> ",
        "1+1",
        "[1] 2\n",
        "> ",
        "Sys.which(\"make\")",
        "make \n  \"\" \n",
        "> ",
        "Sys.setenv(PATH = paste(\"C:\\rtools40\\usr\\bin\", Sys.getenv(\"PATH\"), sep=\";\"))",
        "Error: '\\u' used without hex digits in character string starting \"\"C:\\rtools40\\u\"\n",
        "> ",
        "Sys.setenv(PATH = paste(\"C:/rtools40/usr/bin\", Sys.getenv(\"PATH\"), sep=\";\"))",
        "> ",
        "Sys.which(\"make\")",
        "                              make \n\"C:\\\\rtools40\\\\usr\\\\bin\\\\make.exe\" \n",
        "> ",
        "library(\"dynr\")",
        "Loading required package: ggplot2\n",
        "Keep up to date with changes at https://www.tidyverse.org/blog/\n",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(con, \"r\") : cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(con, \"r\") :",
        "\n ",
        " cannot open file 'C:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpO8O4Yc\\file52f0f37134e': No such file or directory\n",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(con, \"r\") : cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(con, \"r\") :",
        "\n ",
        " cannot open file 'C:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpO8O4Yc\\file52f0f37134e': No such file or directory\n",
        "> ",
        "Sys.which(\"make\")",
        "                              make \n\"C:\\\\rtools40\\\\usr\\\\bin\\\\make.exe\" \n",
        "> ",
        "install.packages(\"jsonlite\", type = \"source\")",
        "Installing package into ‘C:/Users/Berkh011/Documents/R/win-library/4.0’\n(as ‘lib’ is unspecified)\n",
        "trying URL 'https://cran.rstudio.com/src/contrib/jsonlite_1.7.2.tar.gz'\n",
        "Content type 'application/x-gzip'",
        " length 421716 bytes (411 KB)\n",
        "downloaded 411 KB\n\n",
        "* installing *source* package 'jsonlite' ...\n** package 'jsonlite' successfully unpacked and MD5 sums checked\n** using staged installation\n** libs\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c base64.c -o base64.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c collapse_array.c -o collapse_array.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c collapse_object.c -o collapse_object.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c collapse_pretty.c -o collapse_pretty.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c escape_chars.c -o escape_chars.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c integer64_to_na.c -o integer64_to_na.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c is_datelist.c -o is_datelist.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c is_recordlist.c -o is_recordlist.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c is_scalarlist.c -o is_scalarlist.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c modp_numtoa.c -o modp_numtoa.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c null_to_na.c -o null_to_na.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c num_to_char.c -o num_to_char.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c parse.c -o parse.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c prettify.c -o prettify.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c push_parser.c -o push_parser.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c r-base64.c -o r-base64.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c register.c -o register.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c row_collapse.c -o row_collapse.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c transpose_list.c -o transpose_list.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c validate.c -o validate.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl.c -o yajl/yajl.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_alloc.c -o yajl/yajl_alloc.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_buf.c -o yajl/yajl_buf.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_encode.c -o yajl/yajl_encode.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_gen.c -o yajl/yajl_gen.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_lex.c -o yajl/yajl_lex.o\n",
        "\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_parser.c -o yajl/yajl_parser.o\n\"c:/rtools40/mingw64/bin/\"gcc  -I\"C:/PROGRA~1/R/R-40~1.5/include\" -DNDEBUG -Iyajl/api       -D__USE_MINGW_ANSI_STDIO   -O2 -Wall  -std=gnu99 -mfpmath=sse -msse2 -mstackrealign -c yajl/yajl_tree.c -o yajl/yajl_tree.o\n\"c:/rtools40/mingw64/bin/\"ar rcs yajl/libstatyajl.a yajl/yajl.o yajl/yajl_alloc.o yajl/yajl_buf.o yajl/yajl_encode.o yajl/yajl_gen.o yajl/yajl_lex.o yajl/yajl_parser.o yajl/yajl_tree.o\n",
        "c:/rtools40/mingw64/bin/gcc -shared -s -static-libgcc -o jsonlite.dll tmp.def base64.o collapse_array.o collapse_object.o collapse_pretty.o escape_chars.o integer64_to_na.o is_datelist.o is_recordlist.o is_scalarlist.o modp_numtoa.o null_to_na.o num_to_char.o parse.o prettify.o push_parser.o r-base64.o register.o row_collapse.o transpose_list.o validate.o -Lyajl -lstatyajl -LC:/PROGRA~1/R/R-40~1.5/bin/x64 -lR\ninstalling to C:/Users/Berkh011/Documents/R/win-library/4.0/00LOCK-jsonlite/00new/jsonlite/libs/x64\n",
        "** R\n** inst\n** byte-compile and prepare package for lazy loading\nin method for 'asJSON' with signature '\"blob\"': no definition for class \"blob\"\n** help\n*** installing help indices\n  converting help for package 'jsonlite'\n    finding HTML links ... done\n    base64                                  html  \n    flatten                                 html  \n    fromJSON                                html  \n    prettify                                html  \n    rbind_pages                             html  \n    read_json                               html  \n",
        "    serializeJSON                           html  \n    stream_in                               html  \n    unbox                                   html  \n    validate                                html  \n** building package indices\n** installing vignettes\n** testing if installed package can be loaded from temporary location\nWarning in file.rename(instdir, final_instdir) :\n  cannot rename file 'C:/Users/Berkh011/Documents/R/win-library/4.0/00LOCK-jsonlite/00new/jsonlite' to 'C:/Users/Berkh011/Documents/R/win-library/4.0/jsonlite', reason 'Access is denied'\n",
        "WARNING: moving package to final location failed, copying instead\n** testing if installed package can be loaded from final location\n** testing if installed package keeps a record of temporary installation path\n* DONE (jsonlite)\n",
        "\n",
        "",
        "The downloaded source packages are in\n\t‘C:\\Users\\Berkh011\\AppData\\Local\\Temp\\Rtmpsz6Cdq\\downloaded_packages’",
        "",
        "\n",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(con, \"r\") : cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(con, \"r\") :",
        "\n ",
        " cannot open file 'C:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpO8O4Yc\\file52f0f37134e': No such file or directory\n",
        "> ",
        "Sys.setenv(BINPREF = \"C:/rtools40/mingw_$(WIN)/bin/\")",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "Error in file(con, \"r\") : cannot open the connection\n",
        "In addition: ",
        "Warning message:\n",
        "In file(con, \"r\") :",
        "\n ",
        " cannot open file 'C:\\Users\\Berkh011\\AppData\\Local\\Temp\\RtmpO8O4Yc\\file52f0f37134e': No such file or directory\n",
        "> ",
        "dynr.cook",
        "function (dynrModel, conf.level = 0.95, infile, optimization_flag = TRUE, \n    hessian_flag = TRUE, verbose = TRUE, weight_flag = FALSE, \n    debug_flag = FALSE, perturb_flag = FALSE) \n{\n    frontendStart <- Sys.time()\n    transformation = dynrModel@transform@tfun\n    data <- dynrModel$data\n    if (xor(dynrModel@verbose, verbose)) {\n        if (verbose) {\n            message(\"'verbose' argument to dynr.cook() function did not agree with 'verbose' model slot.\\nUsing function argument: verbose = TRUE\\n\")\n        }\n",
        "        dynrModel@verbose <- verbose\n    }\n    model <- internalModelPrep(num_regime = dynrModel@num_regime, \n        dim_latent_var = dynrModel@dim_latent_var, xstart = dynrModel@xstart, \n        ub = dynrModel@ub, lb = dynrModel@lb, options = dynrModel@options, \n        isContinuousTime = dynrModel@dynamics@isContinuousTime, \n        infile = dynrModel@outfile, outfile = gsub(\".c\\\\>\", \n            \"\", dynrModel@outfile), compileLib = dynrModel@compileLib, \n        verbose = dynrModel@verbose)\n    libname <- model$libname\n",
        "    model$libname <- NULL\n    model <- combineModelDataInformation(model, data)\n    model <- preProcessModel(model)\n    if (any(sapply(model$func_address, is.null.pointer))) {\n        warning(\"Found null pointer(s) in 'func_address' list. (Re-)compiling your functions...\")\n        if (missing(infile)) {\n            stop(\"Cannot compile your functions because 'infile' argument is missing.\")\n        }\n        addr <- .C2funcaddress(isContinuousTime = model$isContinuousTime, \n            infile = infile, verbose = verbose)\n",
        "        model$func_address <- addr$address\n        libname <- addr$libname\n    }\n    seed <- sample(1073741824L, size = 1)\n    gc()\n    backendStart <- Sys.time()\n    output <- .Call(.Backend, model, data, weight_flag, debug_flag, \n        optimization_flag, hessian_flag, verbose, perturb_flag, \n        seed, PACKAGE = \"dynr\")\n    backendStop <- Sys.time()\n    dyn.unload(libname)\n    cat(\"Original exit flag: \", output$exitflag, \"\\n\")\n    output$exitflag <- ifelse(!is.finite(output$neg.log.likelihood), \n        -6, output$exitflag)\n",
        "    cat(\"Modified exit flag: \", output$exitflag, \"\\n\")\n    cat(.ExitFlags[as.character(output$exitflag)], \"\\n\")\n    cat(\"Original fitted parameters: \", output$fitted.parameters, \n        \"\\n\", fill = TRUE)\n    cat(\"Transformed fitted parameters: \", transformation(output$fitted.parameters), \n        \"\\n\", fill = TRUE)\n    output2 <- endProcessing(output, transformation, conf.level)\n    if (output$exitflag > 0 && output2$hessian.status == 0 && \n        sum(output2$bad.standard.errors) == 0) {\n        cat(\"Successful trial\\n\")\n",
        "    }\n    else {\n        if (hessian_flag) {\n            msg <- paste0(\"These parameters may have untrustworthy standard errors: \", \n                paste(dynrModel$param.names[output2$bad.standard.errors], \n                  collapse = \", \"), \".\")\n            warning(msg, call. = FALSE)\n        }\n    }\n    names(output2$transformed.parameters) <- dynrModel$param.names\n    if (debug_flag) {\n        obj <- new(\"dynrDebug\", output2)\n    }\n    else {\n        obj <- new(\"dynrCook\", output2)\n    }\n    obj@param.names <- dynrModel$param.names\n",
        "    finalEqualStart <- model$xstart == obj@fitted.parameters\n    if (any(finalEqualStart) && optimization_flag) {\n        warning(paste0(\"Some parameters were left at their starting values.\\nModel might not be identified, need bounds, or need different starting values.\\nParameters that were unmoved: \", \n            paste(obj@param.names[finalEqualStart], collapse = \", \", \n                sep = \"\")), call. = FALSE)\n    }\n    frontendStop <- Sys.time()\n    totalTime <- frontendStop - frontendStart\n    backendTime <- backendStop - backendStart\n",
        "    frontendTime <- totalTime - backendTime\n    obj@run.times <- as.double(c(totalTime = totalTime, backendTime = backendTime, \n        frontendTime = frontendTime), units = \"secs\")\n    cat(\"Total Time:\", totalTime, \"\\n\")\n    cat(\"Backend Time:\", backendTime, \"\\n\")\n    rm(output2)\n    rm(output)\n    gc()\n    return(obj)\n}\n<bytecode: 0x000001d3150502a0>\n<environment: namespace:dynr>\n",
        "> ",
        "?dynr.cook",
        "> ",
        "?dynr.model",
        "> ",
        "model <- dynr.model(dynamics=dynamics, measurement=meas,",
        "+ ",
        "                    noise=ecov, initial=initial, data=data,",
        "+ ",
        "                    outfile = paste(\"trial.c\",sep=\"\"))",
        "> ",
        "# Now cook the model!",
        "> ",
        "cook <- dynr.cook(model,",
        "+ ",
        "                  verbose=FALSE, optimization_flag=FALSE, hessian_flag=FALSE)",
        "May I present to you your error messages?\nsh: line 1: C:/rtools40/mingw_64/bin/gcc: No such file or directory\nmake: *** [C:/PROGRA~1/R/R-40~1.5/etc/x64/Makeconf:222: trial.o] Error 127\n\nERROR(s) during compilation: source code errors or compiler configuration errors!\n\nProgram source:\n  1: #include <math.h>\n  2: #include <gsl/gsl_matrix.h>\n  3: #include <gsl/gsl_blas.h>\n  4: \n  5: \n  6: /**\n  7:  * This function takes a double and gives back a double\n  8:  * It computes the logistic function (i.e. the inverse of the logit link function)\n",
        "  9:  * @param x, the double value e.g. a normally distributed number\n 10:  * @return logistic(x), the double value e.g. a number between 0 and 1\n 11:  */\n 12: double mathfunction_logistic(const double x){\n 13: \tdouble value = 1.0/(1.0 + exp(-x));\n 14: \treturn value;\n 15: }\n 16: \n 17: /**\n 18:  * This function takes a gsl_vector and modifies its second argument (another gsl_vector)\n 19:  * It computes the softmax function (e.g. for multinomial logistic regression)\n 20:  * @param x, vector of double values e.g. a vector of normally distributed numbers\n",
        " 21:  * @param result, softmax(x), e.g. a vector of numbers between 0 and 1 that sum to 1\n 22:  */\n 23: void mathfunction_softmax(const gsl_vector *x, gsl_vector *result){\n 24: \t/* Elementwise exponentiation */\n 25: \tsize_t index=0;\n 26: \tfor(index=0; index < x->size; index++){\n 27: \t\tgsl_vector_set(result, index, exp(gsl_vector_get(x, index)));\n 28: \t}\n 29: \t\n 30: \t/* Sum for the scaling coeficient */\n 31: \tdouble scale = 0.0;\n 32: \tfor(index=0; index < x->size; index++){\n 33: \t\tscale += gsl_vector_get(result, index);\n",
        " 34: \t}\n 35: \t\n 36: \t/* Multiply all elements of result by 1/scale */\n 37: \tgsl_blas_dscal(1/scale, result);\n 38: }\n 39: \n 40: \n 41: void function_dx_dt(double t, size_t regime, const gsl_vector *x, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dx_dt){\n 42: \tgsl_matrix *Amatrix = gsl_matrix_calloc(2, 2);\n 43: \n 44: \tgsl_matrix_set(Amatrix, 1, 0, param[0]);\n 45: \tgsl_matrix_set(Amatrix, 0, 1, 1);\n 46: \tgsl_matrix_set(Amatrix, 1, 1, param[1]);\n 47: \n 48: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Amatrix, x, 0.0, F_dx_dt);\n",
        " 49: \n 50: \tgsl_matrix_free(Amatrix);\n 51: \n 52: }\n 53: \n 54: \n 55: void function_dF_dx(double t, size_t regime, double *param, const gsl_vector *co_variate, gsl_matrix *F_dx_dt_dx){\n 56: \tgsl_matrix_set(F_dx_dt_dx, 1, 0, param[0]);\n 57: \tgsl_matrix_set(F_dx_dt_dx, 0, 1, 1);\n 58: \tgsl_matrix_set(F_dx_dt_dx, 1, 1, param[1]);\n 59: \n 60: }\n 61: \n 62: \n 63: \n 64: void function_measurement(size_t t, size_t regime, double *param, const gsl_vector *eta, const gsl_vector *co_variate, gsl_matrix *Ht, gsl_vector *y){\n",
        " 65: \n 66: \n 67: \tgsl_matrix_set(Ht, 0, 0, 1);\n 68:  \n 69: \tgsl_blas_dgemv(CblasNoTrans, 1.0, Ht, eta, 0.0, y);\n 70:  \n 71: }\n 72: \n 73: \n 74: \n 75: void function_noise_cov(size_t t, size_t regime, double *param, gsl_matrix *y_noise_cov, gsl_matrix *eta_noise_cov){\n 76: \n 77: \n 78: \tgsl_matrix_set(eta_noise_cov, 0, 0, -13.8155105579643);\n 79: \tgsl_matrix_set(eta_noise_cov, 1, 1, param[2]);\n 80: \n 81: \tgsl_matrix_set(y_noise_cov, 0, 0, param[3]);\n 82:  \n 83: }\n 84: \n 85: \n 86: \n 87: void function_initial_condition(double *param, gsl_vector **co_variate, gsl_vector **pr_0, gsl_vector **eta_0, gsl_matrix **error_cov_0, size_t *index_sbj){\n",
        " 88: \t\n 89: \tgsl_vector *Pvector = gsl_vector_calloc(1);\n 90: \tgsl_vector *Pintercept = gsl_vector_calloc(1);\n 91: \tgsl_vector *Padd = gsl_vector_calloc(1);\n 92: \tgsl_vector *Preset = gsl_vector_calloc(1);\n 93: \tgsl_vector_set(Pvector, 0, 1);\n 94: \tgsl_vector_add(Padd, Pvector);\n 95: \tgsl_vector_add(Padd, Pintercept);\n 96: \tgsl_vector_add(Preset, Pvector);\n 97: \tgsl_vector_add(Preset, Pintercept);\n 98: \tgsl_vector *eta_local = gsl_vector_calloc(2);\n 99: \tsize_t num_regime=pr_0[0]->size;\n100: \tsize_t dim_latent_var=error_cov_0[0]->size1;\n",
        "101: \tsize_t num_sbj=(eta_0[0]->size)/(dim_latent_var);\n102: \tsize_t i;\n103: \tsize_t regime;\n104: \tfor(regime=0; regime < num_regime; regime++){\n105: \t\tfor(i=0; i < num_sbj; i++){\n106: \t\t\tgsl_vector_set(eta_local, 0, param[4]);\n107: \t\t\tgsl_vector_set(eta_local, 1, 1);\n108: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+0, gsl_vector_get(eta_local, 0));\n109: \t\t\tgsl_vector_set(eta_0[regime], i*dim_latent_var+1, gsl_vector_get(eta_local, 1));\n110: \t\t\tgsl_vector_set_zero(eta_local);\n111: \t\t}\n112: \t}\n113: \tfor(i=0; i < num_sbj; i++){\n",
        "114: \t\tmathfunction_softmax(Padd, pr_0[i]);\n115: \t}\n116: \tgsl_vector_free(Pvector);\n117: \tgsl_vector_free(Pintercept);\n118: \tgsl_vector_free(Padd);\n119: \tgsl_vector_free(Preset);\n120: \tgsl_vector_free(eta_local);\n121: }\n122: \n123: \n124: /**\n125:  * This function modifies some of the parameters so that it satisfies the model constraint.\n126:  * Do not include parameters in noise_cov matrices \n127:  */\n128: void function_transform(double *param){\n129: }\n130: \n131: \n132: \n133: void function_regime_switch(size_t t, size_t type, double *param, const gsl_vector *co_variate, gsl_matrix *regime_switch_mat){\n",
        "134: \tgsl_matrix_set_identity(regime_switch_mat);\n135: }\n136: \n137: \n138: \n139: /**\n140:  * The dP/dt function: depend on function_dF_dx, needs to be compiled on the user end\n141:  * but user does not need to modify it or care about it.\n142:  */\n143: void mathfunction_mat_to_vec(const gsl_matrix *mat, gsl_vector *vec){\n144: \tsize_t i,j;\n145: \tsize_t nx=mat->size1;\n146: \t/*convert matrix to vector*/\n147: \tfor(i=0; i<nx; i++){\n148: \t\tgsl_vector_set(vec,i,gsl_matrix_get(mat,i,i));\n149: \t\tfor (j=i+1;j<nx;j++){\n",
        "150: \t\t\tgsl_vector_set(vec,i+j+nx-1,gsl_matrix_get(mat,i,j));\n151: \t\t\t/*printf(\"%lu\",i+j+nx-1);}*/\n152: \t\t}\n153: \t}\n154: }\n155: void mathfunction_vec_to_mat(const gsl_vector *vec, gsl_matrix *mat){\n156: \tsize_t i,j;\n157: \tsize_t nx=mat->size1;\n158: \t/*convert vector to matrix*/\n159: \tfor(i=0; i<nx; i++){\n160: \t\tgsl_matrix_set(mat,i,i,gsl_vector_get(vec,i));\n161: \t\tfor (j=i+1;j<nx;j++){\n162: \t\t\tgsl_matrix_set(mat,i,j,gsl_vector_get(vec,i+j+nx-1));\n163: \t\t\tgsl_matrix_set(mat,j,i,gsl_vector_get(vec,i+j+nx-1));\n",
        "164: \t\t}\n165: \t}\n166: }\n167: void function_dP_dt(double t, size_t regime, const gsl_vector *p, double *param, size_t n_param, const gsl_vector *co_variate, gsl_vector *F_dP_dt){\n168: \t\n169: \tsize_t nx;\n170: \tnx = (size_t) floor(sqrt(2*(double) p->size));\n171: \tgsl_matrix *P_mat=gsl_matrix_calloc(nx,nx);\n172: \tmathfunction_vec_to_mat(p,P_mat);\n173: \tgsl_matrix *F_dx_dt_dx=gsl_matrix_calloc(nx,nx);\n174: \tfunction_dF_dx(t, regime, param, co_variate, F_dx_dt_dx);\n175: \tgsl_matrix *dFP=gsl_matrix_calloc(nx,nx);\n",
        "176: \tgsl_matrix *dP_dt=gsl_matrix_calloc(nx,nx);\n177: \tgsl_blas_dgemm(CblasNoTrans, CblasNoTrans, 1.0, F_dx_dt_dx, P_mat, 0.0, dFP);\n178: \tgsl_matrix_transpose_memcpy(dP_dt, dFP);\n179: \tgsl_matrix_add(dP_dt, dFP);\n180: \tsize_t n_Q_vec=(1+nx)*nx/2;\n181: \tgsl_vector *Q_vec=gsl_vector_calloc(n_Q_vec);\n182: \tsize_t i;\n183: \tfor(i=1;i<=n_Q_vec;i++){\n184: \t\t\tgsl_vector_set(Q_vec,n_Q_vec-i,param[n_param-i]);\n185: \t}\n186: \tgsl_matrix *Q_mat=gsl_matrix_calloc(nx,nx);\n187: \tmathfunction_vec_to_mat(Q_vec,Q_mat);\n188: \tgsl_matrix_add(dP_dt, Q_mat);\n",
        "189: \tmathfunction_mat_to_vec(dP_dt, F_dP_dt);\n190: \tgsl_matrix_free(P_mat);\n191: \tgsl_matrix_free(F_dx_dt_dx);\n192: \tgsl_matrix_free(dFP);\n193: \tgsl_matrix_free(dP_dt);\n194: \tgsl_vector_free(Q_vec);\n195: \tgsl_matrix_free(Q_mat);\n196: }\n",
        "Error in CompileCode(code, language, verbose, libLFile) : \n  Compilation ERROR, function(s)/method(s) not created!\n",
        "> ",
        "pkgbuild::has_build_tools(debug = TRUE)",
        "Found in Rtools 4.0 installation folder\n[1] TRUE\n",
        "> ",
        "Sys.which(\"gcc\")",
        "gcc \n \"\" \n",
        "> ",
        "Sys.which(\"mae\")",
        "mae \n \"\" \n",
        "> ",
        "Sys.which(\"make\")",
        "                              make \n\"C:\\\\rtools40\\\\usr\\\\bin\\\\make.exe\" \n",
        "> ",
        "Sys.which(\"mingw\")",
        "mingw \n   \"\" \n",
        "> ",
        "Sys.which(\"bin\")",
        "bin \n \"\" \n",
        "> ",
        "Sys.getenv(\"PATH\")",
        "[1] \"C:/rtools40/usr/bin;C:\\\\Program Files\\\\R\\\\R-4.0.5\\\\bin\\\\x64;C:\\\\R363\\\\RfW\\\\bin\\\\x64;C:\\\\Rtools\\\\bin;C:\\\\Rtools\\\\mingw_64\\\\bin;C:\\\\Program Files\\\\JAGS\\\\JAGS-4.3.0\\\\x64\\\\bin;C:\\\\R363\\\\MiKTeX\\\\miktex\\\\bin\\\\;C:\\\\Program Files (x86)\\\\Common Files\\\\Oracle\\\\Java\\\\javapath;C:\\\\WINDOWS\\\\system32;C:\\\\WINDOWS;C:\\\\WINDOWS\\\\System32\\\\Wbem;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\;C:\\\\WINDOWS\\\\System32\\\\OpenSSH\\\\;C:\\\\WINDOWS\\\\system32\\\\config\\\\systemprofile\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Program Files\\\\Git\\\\cmd;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\Microsoft\\\\WindowsApps;C:\\\\Users\\\\Berkh011\\\\AppData\\\\Local\\\\GitHubDesktop\\\\bin;\\\\usr\\\\bin\"",
        "\n",
        "> ",
        "Sys.getenv(\"BINPREF\")",
        "[1] \"C:/rtools40/mingw_$(WIN)/bin/\"\n",
        "> ",
        "Sys.which(\"Makeconf\")",
        "Makeconf \n      \"\" \n",
        "> ",
        "Sys.which(\"make\")",
        "                              make \n\"C:\\\\rtools40\\\\usr\\\\bin\\\\make.exe\" \n\nRestarting R session...\n\n"
    ],
    "type" : [
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        0,
        1,
        3,
        2,
        0,
        1,
        3,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        3,
        3,
        3,
        2,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        2,
        0,
        1,
        3,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        3,
        3,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        3,
        0,
        1,
        3,
        3,
        0,
        1,
        3,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        2,
        2,
        3,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        3,
        0,
        1,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        3,
        3,
        3,
        3,
        3,
        3,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        0,
        1,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        2,
        3,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        2,
        0,
        1,
        2,
        0,
        1,
        2,
        0,
        1,
        2
    ]
}